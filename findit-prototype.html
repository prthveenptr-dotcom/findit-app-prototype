<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FindIt - Lost & Found App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #bfdbfe 0%, #bbf7d0 12%, #a7f3d0 25%, #bae6fd 37%, #c7d2fe 50%, #ddd6fe 62%, #bfdbfe 75%, #a7f3d0 87%, #bbf7d0 100%);
            background-size: 600% 600%;
            animation: gradientShift 20s ease infinite;
            min-height: 100vh;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 50;
            justify-content: center;
            align-items: center;
        }
        .auth-modal.active {
            display: flex;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .item-card {
            transition: transform 0.3s ease;
            min-height: 420px;
            display: flex;
            flex-direction: column;
        }
        .item-card:hover {
            transform: translateY(-5px);
        }
        .item-card .card-image {
            height: 180px;
            flex-shrink: 0;
        }
        .item-card .card-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 1rem;
        }
        .item-card .card-description {
            flex: 1;
            margin-bottom: 1rem;
        }
        .item-card .card-actions {
            margin-top: auto;
        }
        
        /* Colorful item card backgrounds */
        .card-red { background: linear-gradient(135deg, #ff6b6b, #ee5a52); }
        .card-blue { background: linear-gradient(135deg, #4facfe, #00f2fe); }
        .card-orange { background: linear-gradient(135deg, #fa709a, #fee140); }
        .card-green { background: linear-gradient(135deg, #a8edea, #fed6e3); }
        .card-purple { background: linear-gradient(135deg, #667eea, #764ba2); }
        .card-teal { background: linear-gradient(135deg, #48cae4, #023e8a); }

        /* Chat message styles */
        .message-sent {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            margin-left: auto;
            border-radius: 18px 18px 4px 18px;
        }
        .message-received {
            background: #f3f4f6;
            color: #374151;
            margin-right: auto;
            border-radius: 18px 18px 18px 4px;
        }
        .message {
            max-width: 70%;
            padding: 8px 16px;
            margin-bottom: 8px;
            word-wrap: break-word;
        }

        /* Notification styles */
        .notification-item {
            transition: background-color 0.2s ease;
        }
        .notification-item:hover {
            background-color: #f9fafb;
        }
        .notification-unread {
            background-color: #eff6ff;
            border-left: 4px solid #3b82f6;
        }

        /* Status tracking styles */
        .status-timeline {
            position: relative;
        }
        .status-timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #e5e7eb;
        }
        .status-step {
            position: relative;
            padding-left: 40px;
            margin-bottom: 20px;
        }
        .status-step::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #d1d5db;
        }
        .status-step.completed::before {
            background: #10b981;
        }
        .status-step.current::before {
            background: #3b82f6;
            animation: pulse 2s infinite;
        }

        /* Photo gallery styles */
        .photo-item {
            position: relative;
            aspect-ratio: 1;
            overflow: hidden;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s ease;
            background: linear-gradient(45deg, #f3f4f6, #e5e7eb);
        }
        .photo-item:hover {
            transform: scale(1.05);
        }
        .photo-selected {
            border: 3px solid #3b82f6;
        }

        /* Offline indicator */
        .offline-indicator {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: #ef4444;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            z-index: 1000;
            display: none;
        }
        .offline-indicator.show {
            display: block;
        }

        /* Login step styles */
        .login-step {
            transition: opacity 0.3s ease;
        }
        .nic-type-btn.selected {
            border-color: #4f46e5;
            background-color: #eef2ff;
        }
        .verification-complete {
            background-color: #10b981 !important;
        }
        .verification-complete svg {
            color: white;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center z-50">
        <div class="text-center">
            <div class="relative mb-8">
                <div class="w-20 h-20 border-4 border-white/20 rounded-full animate-spin border-t-white"></div>
                <div class="absolute inset-0 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white animate-pulse" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </div>
            </div>
            <h1 class="text-4xl font-bold text-white mb-4">FindIt</h1>
            <p class="text-white/80 text-lg mb-2">Lost & Found Community</p>
            <p class="text-white/60 text-sm">Loading your personalized experience...</p>
            <div class="mt-6 flex justify-center">
                <div class="flex space-x-1">
                    <div class="w-2 h-2 bg-white rounded-full animate-bounce" style="animation-delay: 0ms"></div>
                    <div class="w-2 h-2 bg-white rounded-full animate-bounce" style="animation-delay: 150ms"></div>
                    <div class="w-2 h-2 bg-white rounded-full animate-bounce" style="animation-delay: 300ms"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Offline Indicator -->
    <div id="offlineIndicator" class="offline-indicator">
        <div class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 2v2m0 16v2m10-10h-2M4 12H2" />
            </svg>
            You're offline. Changes will sync when reconnected.
        </div>
    </div>

    <!-- Main App Content -->
    <div class="backdrop-blur-sm bg-white/10 rounded-3xl m-4 shadow-2xl border border-white/20">
        <!-- Header -->
        <header class="bg-gradient-to-r from-blue-600/90 to-indigo-700/90 backdrop-blur-md text-white shadow-lg border-b border-white/20">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <h1 class="text-2xl font-bold">FindIt</h1>
                </div>
                <div id="headerActions">
                    <!-- Logged Out State -->
                    <div id="loggedOutState">
                        <button id="loginBtn" class="bg-white text-indigo-700 px-4 py-2 rounded-lg font-medium hover:bg-indigo-50 transition duration-300 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                            Login
                        </button>
                    </div>
                    
                    <!-- Logged In State -->
                    <div id="loggedInState" class="hidden flex items-center space-x-4">
                        <button id="messagesBtn" class="relative p-2 text-white hover:bg-white/10 rounded-lg transition duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                            </svg>
                            <span class="absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">2</span>
                        </button>

                        <button id="notificationsBtn" class="relative p-2 text-white hover:bg-white/10 rounded-lg transition duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM11 19H6.5a2.5 2.5 0 010-5H11m0 5v-5m0 5h5m-5-5V9a3 3 0 116 0v5m-6 0h6" />
                            </svg>
                            <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">5</span>
                        </button>
                        
                        <div class="relative">
                            <button id="profileMenuBtn" class="flex items-center space-x-2 bg-white/10 hover:bg-white/20 rounded-lg px-3 py-2 transition duration-300">
                                <div class="w-8 h-8 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-bold">
                                    JD
                                </div>
                                <span class="text-white font-medium">John Doe</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            
                            <!-- Profile Dropdown -->
                            <div id="profileDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-50">
                                <div class="py-1">
                                    <button id="viewProfileBtn" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                        </svg>
                                        My Profile
                                    </button>
                                    <button id="photoManagementBtn" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                        </svg>
                                        Photo Management
                                    </button>
                                    <button class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                        Settings
                                    </button>
                                    <button id="feedbackBtn" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
                                        </svg>
                                        Feedback & Support
                                    </button>
                                    <button id="helpCenterBtn" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                        </svg>
                                        Help Center
                                    </button>
                                    <hr class="my-1">
                                    <button id="logoutBtn" class="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                                        </svg>
                                        Logout
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-8">
            <!-- Tabs -->
            <div class="flex justify-center mb-8">
                <div class="bg-white/20 backdrop-blur-md rounded-lg shadow-xl p-1 flex flex-wrap border border-white/30">
                    <button id="allTab" class="tab-btn px-4 py-3 rounded-lg font-medium bg-indigo-600 text-white">All Items</button>
                    <button id="lostTab" class="tab-btn px-4 py-3 rounded-lg font-medium text-gray-700 hover:bg-gray-100">Lost Items</button>
                    <button id="foundTab" class="tab-btn px-4 py-3 rounded-lg font-medium text-gray-700 hover:bg-gray-100">Found Items</button>
                    <button id="myItemsTab" class="tab-btn px-4 py-3 rounded-lg font-medium text-gray-700 hover:bg-gray-100">My Items</button>
                </div>
            </div>

            <!-- Pet Community Section (Pinned) -->
            <div class="bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-6 mb-8 border border-purple-200 shadow-lg">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center">
                        <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-purple-800">Pet Community Network</h3>
                            <p class="text-purple-600">Help reunite lost pets with their families • 1,247 members</p>
                        </div>
                    </div>
                    <div class="flex items-center text-sm text-green-600 bg-green-100 px-3 py-1 rounded-full">
                        <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                        23 pets found this week
                    </div>
                </div>
                <div class="flex space-x-4">
                    <button id="joinNetworkBtn" class="bg-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-purple-700 transition duration-300 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                        </svg>
                        Join Network
                    </button>
                    <button id="viewPetPostsBtn" class="bg-white text-purple-600 px-6 py-2 rounded-lg font-medium hover:bg-purple-50 transition duration-300 border border-purple-200 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                        </svg>
                        View Posts
                    </button>
                </div>
            </div>

            <!-- Add Item Button -->
            <div class="flex justify-center mb-8">
                <button id="addItemBtn" class="bg-indigo-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-700 transition duration-300 flex items-center shadow-md">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                    </svg>
                    Report an Item
                </button>
            </div>

            <!-- Advanced Search Section -->
            <div class="max-w-4xl mx-auto mb-8">
                <div class="relative mb-4">
                    <input type="text" id="mainSearchInput" placeholder="Search for items (e.g., 'black wallet', 'iPhone 13', 'keys with teddy bear')..." class="w-full px-4 py-3 rounded-lg border border-white/30 bg-white/20 backdrop-blur-md focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 pl-10 pr-20 text-gray-800 placeholder-gray-600">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 absolute left-3 top-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <div class="absolute right-2 top-2 flex space-x-1">
                        <button id="mapViewBtn" class="bg-green-600 text-white px-3 py-1.5 rounded-md text-sm hover:bg-green-700 transition duration-300 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                            </svg>
                            Map
                        </button>
                        <button id="advancedSearchBtn" class="bg-indigo-600 text-white px-3 py-1.5 rounded-md text-sm hover:bg-indigo-700 transition duration-300">
                            Filters
                        </button>
                    </div>
                </div>

                <!-- Quick Filter Chips -->
                <div class="flex flex-wrap gap-2 mb-4">
                    <button class="filter-chip bg-white/30 backdrop-blur-md text-gray-700 px-3 py-1 rounded-full text-sm border border-white/40 hover:bg-indigo-100 transition duration-300" data-filter="today">Today</button>
                    <button class="filter-chip bg-white/30 backdrop-blur-md text-gray-700 px-3 py-1 rounded-full text-sm border border-white/40 hover:bg-indigo-100 transition duration-300" data-filter="electronics">Electronics</button>
                    <button class="filter-chip bg-white/30 backdrop-blur-md text-gray-700 px-3 py-1 rounded-full text-sm border border-white/40 hover:bg-indigo-100 transition duration-300" data-filter="bags">Bags</button>
                    <button class="filter-chip bg-white/30 backdrop-blur-md text-gray-700 px-3 py-1 rounded-full text-sm border border-white/40 hover:bg-indigo-100 transition duration-300" data-filter="keys">Keys</button>
                    <button class="filter-chip bg-white/30 backdrop-blur-md text-gray-700 px-3 py-1 rounded-full text-sm border border-white/40 hover:bg-indigo-100 transition duration-300" data-filter="nearby">Near Me</button>
                </div>

                <!-- Advanced Filters Panel -->
                <div id="advancedFilters" class="hidden bg-white/90 backdrop-blur-md rounded-lg p-4 border border-white/50 shadow-lg">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-gray-700 text-sm font-medium mb-2">Category</label>
                            <select id="categoryFilter" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                                <option value="">All Categories</option>
                                <option value="electronics">Electronics</option>
                                <option value="clothing">Clothing & Accessories</option>
                                <option value="documents">Documents & IDs</option>
                                <option value="keys">Keys</option>
                                <option value="bags">Bags & Luggage</option>
                                <option value="jewelry">Jewelry</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-gray-700 text-sm font-medium mb-2">Date Range</label>
                            <select id="dateFilter" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                                <option value="">Any Time</option>
                                <option value="today">Today</option>
                                <option value="week">This Week</option>
                                <option value="month">This Month</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-gray-700 text-sm font-medium mb-2">Location</label>
                            <input type="text" id="locationFilter" placeholder="Enter location or area" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                    </div>

                    <div class="flex justify-between items-center mt-4 pt-4 border-t border-gray-200">
                        <div class="text-sm text-gray-600">
                            <span id="resultsCount">Showing 6 results</span>
                        </div>
                        <div class="flex space-x-2">
                            <button id="clearFilters" class="px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium bg-white text-gray-700 hover:bg-gray-50 transition duration-300">Clear All</button>
                            <button id="applyFilters" class="px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition duration-300">Apply Filters</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Smart Matching Notification -->
            <div id="matchNotification" class="hidden fixed top-20 right-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white p-4 rounded-lg shadow-xl border border-white/20 z-50 max-w-sm">
                <div class="flex items-start space-x-3">
                    <div class="flex-shrink-0">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <div class="flex-1">
                        <h4 class="font-semibold mb-1">Potential Match Found!</h4>
                        <p class="text-sm opacity-90 mb-2">AI detected a 92% match between your lost iPhone and a found item.</p>
                        <div class="flex space-x-2">
                            <button id="viewMatch" class="bg-white/20 hover:bg-white/30 px-3 py-1 rounded text-sm font-medium transition duration-300">View</button>
                            <button id="dismissMatch" class="bg-white/10 hover:bg-white/20 px-3 py-1 rounded text-sm font-medium transition duration-300">Dismiss</button>
                        </div>
                    </div>
                    <button id="closeMatchNotification" class="flex-shrink-0 text-white/70 hover:text-white">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Notification Center -->
            <div id="notificationCenter" class="hidden fixed top-16 right-4 bg-white/95 backdrop-blur-md rounded-xl shadow-2xl border border-white/50 w-80 max-h-96 overflow-y-auto z-50">
                <div class="p-4 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h3 class="font-semibold text-gray-800">Notifications</h3>
                        <button id="markAllRead" class="text-sm text-indigo-600 hover:text-indigo-800">Mark all read</button>
                    </div>
                </div>
                <div id="notificationList" class="divide-y divide-gray-100">
                    <div class="notification-item notification-unread p-4">
                        <div class="flex items-start space-x-3">
                            <div class="flex-shrink-0">
                                <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                            </div>
                            <div class="flex-1">
                                <p class="text-sm font-medium text-gray-900">Match Found!</p>
                                <p class="text-sm text-gray-500">Your lost backpack has a potential match</p>
                                <p class="text-xs text-gray-400 mt-1">2 minutes ago</p>
                            </div>
                        </div>
                    </div>
                    <div class="notification-item p-4">
                        <div class="flex items-start space-x-3">
                            <div class="flex-shrink-0">
                                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                    </svg>
                                </div>
                            </div>
                            <div class="flex-1">
                                <p class="text-sm font-medium text-gray-900">New Message</p>
                                <p class="text-sm text-gray-500">Someone is interested in your found item</p>
                                <p class="text-xs text-gray-400 mt-1">1 hour ago</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- All Items Tab Content -->
            <div id="allTabContent" class="tab-content active">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Lost Item 1 -->
                    <div class="card-red rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                        <div class="card-image bg-black/10 relative flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            <div class="absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Lost</div>
                            <div class="absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded-lg text-xs font-medium flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                                </svg>
                                AI Match
                            </div>
                        </div>
                        <div class="card-content bg-gradient-to-br from-white/95 to-red-50/90 backdrop-blur-sm">
                            <div>
                                <h3 class="font-semibold text-lg mb-1 text-red-800">Blue Backpack</h3>
                                <p class="text-red-600 text-sm mb-2 font-medium">Lost at Central Park on June 15th</p>
                                <div class="flex items-center text-sm text-gray-500 mb-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Central Park, New York • 0.3 km away
                                </div>
                                
                                <!-- Status Timeline -->
                                <div class="status-timeline mb-3">
                                    <div class="status-step completed">
                                        <div class="text-xs text-gray-600">Reported</div>
                                    </div>
                                    <div class="status-step completed">
                                        <div class="text-xs text-gray-600">Match Found</div>
                                    </div>
                                    <div class="status-step current">
                                        <div class="text-xs text-gray-600">In Contact</div>
                                    </div>
                                </div>
                                
                                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-2 mb-3">
                                    <div class="flex items-center text-xs text-yellow-800">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                                        </svg>
                                        <span class="font-medium">87% match confidence</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-description">
                                <p class="text-sm text-gray-600">Navy blue Jansport backpack with a small tear on the front pocket. Contains important documents.</p>
                            </div>
                            <div class="card-actions">
                                <div class="flex space-x-2">
                                    <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="contactOwner('backpack-finder')">Contact Owner</button>
                                    <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="viewDetails('backpack-lost')">View Details</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Found Item 1 -->
                    <div class="card-green rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                        <div class="card-image bg-black/10 relative flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                            </svg>
                            <div class="absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Found</div>
                        </div>
                        <div class="card-content bg-gradient-to-br from-white/95 to-green-50/90 backdrop-blur-sm">
                            <div>
                                <h3 class="font-semibold text-lg mb-1 text-green-800">Notebook</h3>
                                <p class="text-green-600 text-sm mb-2 font-medium">Found at Library on June 17th</p>
                                <div class="flex items-center text-sm text-gray-500 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Public Library, Main Street • 1.2 km away
                                </div>
                            </div>
                            <div class="card-description">
                                <p class="text-sm text-gray-600">Red spiral notebook with physics notes inside. Name "Sarah" written on the first page.</p>
                            </div>
                            <div class="card-actions">
                                <div class="flex space-x-2">
                                    <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="claimItem('notebook-found')">Claim It</button>
                                    <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="openChat('notebook-owner')">Message</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Lost Item 2 -->
                    <div class="card-blue rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                        <div class="card-image bg-black/10 relative flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
                            </svg>
                            <div class="absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Lost</div>
                        </div>
                        <div class="card-content bg-gradient-to-br from-white/95 to-blue-50/90 backdrop-blur-sm">
                            <div>
                                <h3 class="font-semibold text-lg mb-1 text-blue-800">iPhone 13 Pro</h3>
                                <p class="text-blue-600 text-sm mb-2 font-medium">Lost at Coffee Shop on June 18th</p>
                                <div class="flex items-center text-sm text-gray-500 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Starbucks, 5th Avenue • 2.1 km away
                                </div>
                            </div>
                            <div class="card-description">
                                <p class="text-sm text-gray-600">Sierra Blue iPhone 13 Pro with a clear case. Lock screen has a picture of a dog.</p>
                            </div>
                            <div class="card-actions">
                                <div class="flex space-x-2">
                                    <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="contactOwner('iphone-owner')">Contact Owner</button>
                                    <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="viewDetails('iphone-lost')">View Details</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Found Item 2 -->
                    <div class="card-purple rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                        <div class="card-image bg-black/10 relative flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" />
                            </svg>
                            <div class="absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Found</div>
                        </div>
                        <div class="card-content bg-gradient-to-br from-white/95 to-purple-50/90 backdrop-blur-sm">
                            <div>
                                <h3 class="font-semibold text-lg mb-1 text-purple-800">Keys</h3>
                                <p class="text-purple-600 text-sm mb-2 font-medium">Found at Park on June 19th</p>
                                <div class="flex items-center text-sm text-gray-500 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Riverside Park • 0.8 km away
                                </div>
                            </div>
                            <div class="card-description">
                                <p class="text-sm text-gray-600">Set of 3 keys with a blue carabiner and a small teddy bear keychain.</p>
                            </div>
                            <div class="card-actions">
                                <div class="flex space-x-2">
                                    <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="claimItem('keys-found')">Claim It</button>
                                    <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="openChat('keys-finder')">Message</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Lost Item 3 -->
                    <div class="card-orange rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                        <div class="card-image bg-black/10 relative flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
                            </svg>
                            <div class="absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Lost</div>
                        </div>
                        <div class="card-content bg-gradient-to-br from-white/95 to-orange-50/90 backdrop-blur-sm">
                            <div>
                                <h3 class="font-semibold text-lg mb-1 text-orange-800">Wallet</h3>
                                <p class="text-orange-600 text-sm mb-2 font-medium">Lost at Bus Station on June 20th</p>
                                <div class="flex items-center text-sm text-gray-500 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Main Bus Terminal • 3.5 km away
                                </div>
                            </div>
                            <div class="card-description">
                                <p class="text-sm text-gray-600">Brown leather wallet with initials "JD" embossed on the front. Contains ID and credit cards.</p>
                            </div>
                            <div class="card-actions">
                                <div class="flex space-x-2">
                                    <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="contactOwner('wallet-owner')">Contact Owner</button>
                                    <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="viewDetails('wallet-lost')">View Details</button>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>

            <!-- Lost Items Tab Content -->
            <div id="lostTabContent" class="tab-content">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Lost Item 1 -->
                    <div class="card-red rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                        <div class="card-image bg-black/10 relative flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            <div class="absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Lost</div>
                            <div class="absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded-lg text-xs font-medium flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                                </svg>
                                AI Match
                            </div>
                        </div>
                        <div class="card-content bg-gradient-to-br from-white/95 to-red-50/90 backdrop-blur-sm">
                            <div>
                                <h3 class="font-semibold text-lg mb-1 text-red-800">Blue Backpack</h3>
                                <p class="text-red-600 text-sm mb-2 font-medium">Lost at Central Park on June 15th</p>
                                <div class="flex items-center text-sm text-gray-500 mb-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Central Park, New York • 0.3 km away
                                </div>
                                
                                <!-- Status Timeline -->
                                <div class="status-timeline mb-3">
                                    <div class="status-step completed">
                                        <div class="text-xs text-gray-600">Reported</div>
                                    </div>
                                    <div class="status-step completed">
                                        <div class="text-xs text-gray-600">Match Found</div>
                                    </div>
                                    <div class="status-step current">
                                        <div class="text-xs text-gray-600">In Contact</div>
                                    </div>
                                </div>
                                
                                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-2 mb-3">
                                    <div class="flex items-center text-xs text-yellow-800">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                                        </svg>
                                        <span class="font-medium">87% match confidence</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-description">
                                <p class="text-sm text-gray-600">Navy blue Jansport backpack with a small tear on the front pocket. Contains important documents.</p>
                            </div>
                            <div class="card-actions">
                                <div class="flex space-x-2">
                                    <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="contactOwner('backpack-finder')">Contact Owner</button>
                                    <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="viewDetails('backpack-lost')">View Details</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Lost Item 2 -->
                    <div class="card-blue rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                        <div class="card-image bg-black/10 relative flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
                            </svg>
                            <div class="absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Lost</div>
                        </div>
                        <div class="card-content bg-gradient-to-br from-white/95 to-blue-50/90 backdrop-blur-sm">
                            <div>
                                <h3 class="font-semibold text-lg mb-1 text-blue-800">iPhone 13 Pro</h3>
                                <p class="text-blue-600 text-sm mb-2 font-medium">Lost at Coffee Shop on June 18th</p>
                                <div class="flex items-center text-sm text-gray-500 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Starbucks, 5th Avenue • 2.1 km away
                                </div>
                            </div>
                            <div class="card-description">
                                <p class="text-sm text-gray-600">Sierra Blue iPhone 13 Pro with a clear case. Lock screen has a picture of a dog.</p>
                            </div>
                            <div class="card-actions">
                                <div class="flex space-x-2">
                                    <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="contactOwner('iphone-owner')">Contact Owner</button>
                                    <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="viewDetails('iphone-lost')">View Details</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Lost Item 3 -->
                    <div class="card-orange rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                        <div class="card-image bg-black/10 relative flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
                            </svg>
                            <div class="absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Lost</div>
                        </div>
                        <div class="card-content bg-gradient-to-br from-white/95 to-orange-50/90 backdrop-blur-sm">
                            <div>
                                <h3 class="font-semibold text-lg mb-1 text-orange-800">Wallet</h3>
                                <p class="text-orange-600 text-sm mb-2 font-medium">Lost at Bus Station on June 20th</p>
                                <div class="flex items-center text-sm text-gray-500 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Main Bus Terminal • 3.5 km away
                                </div>
                            </div>
                            <div class="card-description">
                                <p class="text-sm text-gray-600">Brown leather wallet with initials "JD" embossed on the front. Contains ID and credit cards.</p>
                            </div>
                            <div class="card-actions">
                                <div class="flex space-x-2">
                                    <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="contactOwner('wallet-owner')">Contact Owner</button>
                                    <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="viewDetails('wallet-lost')">View Details</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Found Items Tab Content -->
            <div id="foundTabContent" class="tab-content">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Found Item 1 -->
                    <div class="card-green rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                        <div class="card-image bg-black/10 relative flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                            </svg>
                            <div class="absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Found</div>
                        </div>
                        <div class="card-content bg-gradient-to-br from-white/95 to-green-50/90 backdrop-blur-sm">
                            <div>
                                <h3 class="font-semibold text-lg mb-1 text-green-800">Notebook</h3>
                                <p class="text-green-600 text-sm mb-2 font-medium">Found at Library on June 17th</p>
                                <div class="flex items-center text-sm text-gray-500 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Public Library, Main Street • 1.2 km away
                                </div>
                            </div>
                            <div class="card-description">
                                <p class="text-sm text-gray-600">Red spiral notebook with physics notes inside. Name "Sarah" written on the first page.</p>
                            </div>
                            <div class="card-actions">
                                <div class="flex space-x-2">
                                    <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="claimItem('notebook-found')">Claim It</button>
                                    <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="openChat('notebook-owner')">Message</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Found Item 2 -->
                    <div class="card-purple rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                        <div class="card-image bg-black/10 relative flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" />
                            </svg>
                            <div class="absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Found</div>
                        </div>
                        <div class="card-content bg-gradient-to-br from-white/95 to-purple-50/90 backdrop-blur-sm">
                            <div>
                                <h3 class="font-semibold text-lg mb-1 text-purple-800">Keys</h3>
                                <p class="text-purple-600 text-sm mb-2 font-medium">Found at Park on June 19th</p>
                                <div class="flex items-center text-sm text-gray-500 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    Riverside Park • 0.8 km away
                                </div>
                            </div>
                            <div class="card-description">
                                <p class="text-sm text-gray-600">Set of 3 keys with a blue carabiner and a small teddy bear keychain.</p>
                            </div>
                            <div class="card-actions">
                                <div class="flex space-x-2">
                                    <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="claimItem('keys-found')">Claim It</button>
                                    <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="openChat('keys-finder')">Message</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- My Items Tab Content -->
            <div id="myItemsTabContent" class="tab-content">
                <!-- Logged Out State -->
                <div id="myItemsLoggedOut" class="flex flex-col items-center justify-center py-12">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 class="text-xl font-medium text-gray-700 mb-2">Please Login First</h3>
                    <p class="text-gray-500 mb-4 text-center max-w-md">You need to login to view your reported items and manage your account.</p>
                    <button id="loginBtnAlt" class="bg-indigo-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-indigo-700 transition duration-300">Login Now</button>
                </div>

                <!-- Logged In State -->
                <div id="myItemsLoggedIn" class="hidden">
                    <!-- User Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h3 class="text-2xl font-bold text-blue-800">2</h3>
                                    <p class="text-blue-600 font-medium">Items Lost</p>
                                </div>
                                <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border border-green-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h3 class="text-2xl font-bold text-green-800">1</h3>
                                    <p class="text-green-600 font-medium">Items Found</p>
                                </div>
                                <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h3 class="text-2xl font-bold text-purple-800">1</h3>
                                    <p class="text-purple-600 font-medium">Successful Matches</p>
                                </div>
                                <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- My Items Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- My Lost Item 1 -->
                        <div class="card-red rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                            <div class="card-image bg-black/10 relative flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                                </svg>
                                <div class="absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-medium">My Lost Item</div>
                                <div class="absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded-lg text-xs font-medium flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                                    </svg>
                                    Match Found
                                </div>
                            </div>
                            <div class="card-content bg-gradient-to-br from-white/95 to-red-50/90 backdrop-blur-sm">
                                <div>
                                    <h3 class="font-semibold text-lg mb-1 text-red-800">My Blue Backpack</h3>
                                    <p class="text-red-600 text-sm mb-2 font-medium">Lost at Central Park on June 15th</p>
                                    <div class="flex items-center text-sm text-gray-500 mb-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                        </svg>
                                        23 people viewed • 5 messages
                                    </div>
                                    
                                    <div class="bg-green-50 border border-green-200 rounded-lg p-2 mb-3">
                                        <div class="flex items-center text-xs text-green-800">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                            </svg>
                                            <span class="font-medium">Potential match found! Check messages.</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-description">
                                    <p class="text-sm text-gray-600">Navy blue Jansport backpack with a small tear on the front pocket. Contains important documents.</p>
                                </div>
                                <div class="card-actions">
                                    <div class="flex space-x-2">
                                        <button class="flex-1 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition duration-300 text-sm" onclick="openChat('backpack-match')">View Match</button>
                                        <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="editMyItem('my-backpack')">Edit</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- My Found Item 1 -->
                        <div class="card-green rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                            <div class="card-image bg-black/10 relative flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" />
                                </svg>
                                <div class="absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded-lg text-xs font-medium">My Found Item</div>
                            </div>
                            <div class="card-content bg-gradient-to-br from-white/95 to-green-50/90 backdrop-blur-sm">
                                <div>
                                    <h3 class="font-semibold text-lg mb-1 text-green-800">Keys I Found</h3>
                                    <p class="text-green-600 text-sm mb-2 font-medium">Found at Park on June 19th</p>
                                    <div class="flex items-center text-sm text-gray-500 mb-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                        </svg>
                                        12 people viewed • 3 claims received
                                    </div>
                                </div>
                                <div class="card-description">
                                    <p class="text-sm text-gray-600">Set of 3 keys with a blue carabiner and a small teddy bear keychain.</p>
                                </div>
                                <div class="card-actions">
                                    <div class="flex space-x-2">
                                        <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="viewClaims('my-keys')">View Claims</button>
                                        <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="editMyItem('my-keys')">Edit</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- My Lost Item 2 -->
                        <div class="card-orange rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                            <div class="card-image bg-black/10 relative flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
                                </svg>
                                <div class="absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-medium">My Lost Item</div>
                            </div>
                            <div class="card-content bg-gradient-to-br from-white/95 to-orange-50/90 backdrop-blur-sm">
                                <div>
                                    <h3 class="font-semibold text-lg mb-1 text-orange-800">My Wallet</h3>
                                    <p class="text-orange-600 text-sm mb-2 font-medium">Lost at Bus Station on June 20th</p>
                                    <div class="flex items-center text-sm text-gray-500 mb-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                        </svg>
                                        8 people viewed • No matches yet
                                    </div>
                                </div>
                                <div class="card-description">
                                    <p class="text-sm text-gray-600">Brown leather wallet with initials "JD" embossed on the front. Contains ID and credit cards.</p>
                                </div>
                                <div class="card-actions">
                                    <div class="flex space-x-2">
                                        <button class="flex-1 bg-gray-500 text-white py-2 rounded-lg cursor-not-allowed transition duration-300 text-sm" disabled>No Activity</button>
                                        <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="editMyItem('my-wallet')">Edit</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Map View Modal -->
        <div id="mapModal" class="auth-modal">
            <div class="bg-white/95 backdrop-blur-md rounded-xl shadow-2xl w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden border border-white/50">
                <div class="flex justify-between items-center p-6 border-b border-gray-200">
                    <div class="flex items-center space-x-3">
                        <h2 class="text-2xl font-bold text-gray-800">Location Map</h2>
                        <div class="flex items-center space-x-2">
                            <div class="flex items-center">
                                <div class="w-3 h-3 bg-red-500 rounded-full mr-1"></div>
                                <span class="text-sm text-gray-600">Lost Items</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-3 h-3 bg-green-500 rounded-full mr-1"></div>
                                <span class="text-sm text-gray-600">Found Items</span>
                            </div>
                        </div>
                    </div>
                    <button id="closeMapModal" class="text-gray-500 hover:text-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                
                <!-- Map Container -->
                <div class="relative h-96 bg-gradient-to-br from-blue-100 to-green-100">
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="text-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-gray-400 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                            </svg>
                            <h3 class="text-lg font-medium text-gray-700 mb-2">Interactive Map View</h3>
                            <p class="text-gray-500 mb-4">In a real app, this would show Google Maps or Mapbox with item locations</p>
                        </div>
                    </div>
                    
                    <!-- Demo Map Markers -->
                    <div class="absolute top-20 left-32 transform -translate-x-1/2 -translate-y-1/2">
                        <div class="w-6 h-6 bg-red-500 rounded-full border-2 border-white shadow-lg cursor-pointer hover:scale-110 transition-transform" title="Lost: Blue Backpack" onclick="showMapItemDetails('backpack-lost')"></div>
                    </div>
                    
                    <div class="absolute top-40 right-40 transform -translate-x-1/2 -translate-y-1/2">
                        <div class="w-6 h-6 bg-green-500 rounded-full border-2 border-white shadow-lg cursor-pointer hover:scale-110 transition-transform" title="Found: Keys" onclick="showMapItemDetails('keys-found')"></div>
                    </div>
                    
                    <div class="absolute bottom-20 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
                        <div class="w-6 h-6 bg-red-500 rounded-full border-2 border-white shadow-lg cursor-pointer hover:scale-110 transition-transform" title="Lost: iPhone 13 Pro" onclick="showMapItemDetails('iphone-lost')"></div>
                    </div>
                    
                    <div class="absolute top-32 right-20 transform -translate-x-1/2 -translate-y-1/2">
                        <div class="w-6 h-6 bg-green-500 rounded-full border-2 border-white shadow-lg cursor-pointer hover:scale-110 transition-transform" title="Found: Notebook" onclick="showMapItemDetails('notebook-found')"></div>
                    </div>
                    
                    <div class="absolute bottom-32 right-32 transform -translate-x-1/2 -translate-y-1/2">
                        <div class="w-6 h-6 bg-red-500 rounded-full border-2 border-white shadow-lg cursor-pointer hover:scale-110 transition-transform" title="Lost: Wallet" onclick="showMapItemDetails('wallet-lost')"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Communication Modal -->
        <div id="communicationModal" class="auth-modal">
            <div class="bg-white/95 backdrop-blur-md rounded-xl shadow-2xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden border border-white/50">
                <div class="flex h-[80vh]">
                    <!-- Chat Sidebar -->
                    <div class="w-1/3 border-r border-gray-200 flex flex-col">
                        <div class="p-4 border-b border-gray-200">
                            <div class="flex justify-between items-center">
                                <h3 class="font-semibold text-gray-800">Messages</h3>
                                <button id="closeCommunicationModal" class="text-gray-500 hover:text-gray-700">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="flex-1 overflow-y-auto">
                            <div id="conversationList" class="divide-y divide-gray-100">
                                <div class="p-4 hover:bg-gray-50 cursor-pointer" onclick="selectConversation('backpack-finder')">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold">
                                            MF
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-medium text-gray-800">Mike Finder</h4>
                                            <p class="text-sm text-gray-500">About: Blue Backpack</p>
                                            <p class="text-xs text-gray-400">2 min ago</p>
                                        </div>
                                        <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                    </div>
                                </div>
                                <div class="p-4 hover:bg-gray-50 cursor-pointer" onclick="selectConversation('notebook-owner')">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-10 h-10 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center text-white font-semibold">
                                            SO
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-medium text-gray-800">Sarah Owner</h4>
                                            <p class="text-sm text-gray-500">About: Red Notebook</p>
                                            <p class="text-xs text-gray-400">1 hour ago</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Area -->
                    <div class="flex-1 flex flex-col">
                        <div id="chatHeader" class="p-4 border-b border-gray-200 bg-gray-50">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold">
                                        MF
                                    </div>
                                    <div>
                                        <h4 class="font-medium text-gray-800">Mike Finder</h4>
                                        <p class="text-sm text-gray-500">About: Blue Backpack</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <button class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition duration-300" title="Voice call">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                        </svg>
                                    </button>
                                    <button class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition duration-300" title="Video call">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div id="chatMessages" class="flex-1 overflow-y-auto p-4 space-y-4">
                            <div class="message message-received">
                                <p>Hi! I found a blue backpack at Central Park. Is this yours?</p>
                            </div>
                            <div class="message message-sent">
                                <p>Yes! That's mine! Does it have a small tear on the front pocket?</p>
                            </div>
                            <div class="message message-received">
                                <p>Yes, it does! And there are some documents inside. When can we meet?</p>
                            </div>
                            <div class="message message-sent">
                                <p>Perfect! How about tomorrow at 2 PM at the park entrance?</p>
                            </div>
                        </div>
                        
                        <div class="p-4 border-t border-gray-200">
                            <div class="flex items-center space-x-2">
                                <button class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition duration-300" title="Attach file">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" />
                                    </svg>
                                </button>
                                <input type="text" id="messageInput" placeholder="Type your message..." class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                <button id="sendMessage" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-300">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                                    </svg>
                                </button>
                            </div>
                            <div class="mt-2 text-xs text-gray-500 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                </svg>
                                End-to-end encrypted • Messages auto-delete after 30 days
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Photo Management Modal -->
        <div id="photoManagementModal" class="auth-modal">
            <div class="bg-white/95 backdrop-blur-md rounded-xl shadow-2xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto border border-white/50">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">Photo Management</h2>
                        <button id="closePhotoModal" class="text-gray-500 hover:text-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>

                    <!-- Photo Upload Area -->
                    <div class="mb-6">
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-indigo-400 transition duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-16 w-16 text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            <h3 class="text-lg font-medium text-gray-700 mb-2">Upload Photos</h3>
                            <p class="text-gray-500 mb-4">Drag and drop photos here or click to browse</p>
                            <div class="flex justify-center space-x-4">
                                <button id="browsePhotos" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-300">Browse Files</button>
                                <button id="takePhoto" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition duration-300">Take Photo</button>
                            </div>
                            <input type="file" id="photoFileInput" class="hidden" multiple accept="image/*">
                        </div>
                    </div>

                    <!-- Photo Gallery -->
                    <div class="mb-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold text-gray-800">Photo Gallery</h3>
                            <div class="flex space-x-2">
                                <button id="selectAll" class="text-sm text-indigo-600 hover:text-indigo-800">Select All</button>
                                <button id="deleteSelected" class="text-sm text-red-600 hover:text-red-800">Delete Selected</button>
                            </div>
                        </div>
                        <div id="photoGallery" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <!-- Demo photos -->
                            <div class="photo-item">
                                <div class="w-full h-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-semibold">
                                    Photo 1
                                </div>
                            </div>
                            <div class="photo-item">
                                <div class="w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white font-semibold">
                                    Photo 2
                                </div>
                            </div>
                            <div class="photo-item">
                                <div class="w-full h-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white font-semibold">
                                    Photo 3
                                </div>
                            </div>
                            <div class="photo-item">
                                <div class="w-full h-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white font-semibold">
                                    Photo 4
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Analysis Results -->
                    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 mb-6">
                        <h3 class="text-lg font-semibold text-gray-800 mb-3 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                            </svg>
                            AI Photo Analysis
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="bg-white rounded-lg p-3">
                                <div class="text-sm text-gray-600">Detected Objects</div>
                                <div class="font-medium text-gray-800">Backpack, Zipper, Fabric</div>
                            </div>
                            <div class="bg-white rounded-lg p-3">
                                <div class="text-sm text-gray-600">Primary Colors</div>
                                <div class="font-medium text-gray-800">Navy Blue, Black</div>
                            </div>
                            <div class="bg-white rounded-lg p-3">
                                <div class="text-sm text-gray-600">Text Detected (OCR)</div>
                                <div class="font-medium text-gray-800">No text found</div>
                            </div>
                        </div>
                    </div>

                    <!-- Photo Editing Tools -->
                    <div class="border border-gray-200 rounded-lg p-4">
                        <h3 class="text-lg font-semibold text-gray-800 mb-3">Photo Editing</h3>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <button class="px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition duration-300">Crop</button>
                            <button class="px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition duration-300">Rotate</button>
                            <button class="px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition duration-300">Brightness</button>
                            <button class="px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition duration-300">Contrast</button>
                            <button class="px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition duration-300">Blur Faces</button>
                            <button class="px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition duration-300">Add Watermark</button>
                        </div>
                        <div class="text-sm text-gray-500">Select a photo to enable editing tools</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feedback & Support Modal -->
        <div id="feedbackModal" class="auth-modal">
            <div class="bg-white/95 backdrop-blur-md rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto border border-white/50">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">Feedback & Support</h2>
                        <button id="closeFeedbackModal" class="text-gray-500 hover:text-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>

                    <!-- Support Options -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <button id="chatSupportBtn" class="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition duration-300 text-left">
                            <div class="flex items-center mb-2">
                                <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800">Live Chat Support</h3>
                                    <p class="text-sm text-gray-500">Get instant help from our AI assistant</p>
                                </div>
                            </div>
                            <div class="flex items-center text-xs text-green-600">
                                <div class="w-2 h-2 bg-green-500 rounded-full mr-1"></div>
                                Available 24/7
                            </div>
                        </button>

                        <button id="emailSupportBtn" class="p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition duration-300 text-left">
                            <div class="flex items-center mb-2">
                                <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800">Email Support</h3>
                                    <p class="text-sm text-gray-500">Send us a detailed message</p>
                                </div>
                            </div>
                            <div class="text-xs text-gray-500">Response within 24 hours</div>
                        </button>
                    </div>

                    <!-- Feedback Form -->
                    <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 mb-6">
                        <h3 class="font-semibold text-gray-800 mb-3">Share Your Feedback</h3>
                        
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-medium mb-2">Feedback Type</label>
                            <select id="feedbackType" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                <option value="">Select feedback type</option>
                                <option value="bug">Bug Report</option>
                                <option value="feature">Feature Request</option>
                                <option value="improvement">Improvement Suggestion</option>
                                <option value="general">General Feedback</option>
                                <option value="complaint">Complaint</option>
                                <option value="compliment">Compliment</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-medium mb-2">Rating</label>
                            <div id="ratingStars" class="flex space-x-1">
                                <button class="star-btn text-2xl text-gray-300 hover:text-yellow-400 transition duration-300" data-rating="1">★</button>
                                <button class="star-btn text-2xl text-gray-300 hover:text-yellow-400 transition duration-300" data-rating="2">★</button>
                                <button class="star-btn text-2xl text-gray-300 hover:text-yellow-400 transition duration-300" data-rating="3">★</button>
                                <button class="star-btn text-2xl text-gray-300 hover:text-yellow-400 transition duration-300" data-rating="4">★</button>
                                <button class="star-btn text-2xl text-gray-300 hover:text-yellow-400 transition duration-300" data-rating="5">★</button>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-medium mb-2">Your Message</label>
                            <textarea id="feedbackMessage" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Tell us about your experience or suggestion..."></textarea>
                        </div>

                        <div class="mb-4">
                            <label class="flex items-center">
                                <input type="checkbox" id="includeScreenshot" class="mr-2">
                                <span class="text-sm text-gray-700">Include screenshot (optional)</span>
                            </label>
                        </div>

                        <button id="submitFeedback" class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300">
                            Submit Feedback
                        </button>
                    </div>

                    <!-- AI Sentiment Analysis Display -->
                    <div id="sentimentAnalysis" class="hidden bg-green-50 border border-green-200 rounded-lg p-3 mb-4">
                        <div class="flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span class="text-sm font-medium text-green-800">Sentiment Analysis: <span id="sentimentResult">Positive</span></span>
                        </div>
                        <p class="text-xs text-green-600 mt-1">We've analyzed your feedback to better understand your experience.</p>
                    </div>

                    <!-- Quick Actions -->
                    <div class="border-t border-gray-200 pt-4">
                        <h4 class="font-medium text-gray-800 mb-3">Quick Actions</h4>
                        <div class="grid grid-cols-2 gap-3">
                            <button class="text-sm text-indigo-600 hover:text-indigo-800 text-left">Report a Bug</button>
                            <button class="text-sm text-indigo-600 hover:text-indigo-800 text-left">Request Feature</button>
                            <button class="text-sm text-indigo-600 hover:text-indigo-800 text-left">Account Issues</button>
                            <button class="text-sm text-indigo-600 hover:text-indigo-800 text-left">Privacy Concerns</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Help Center Modal -->
        <div id="helpCenterModal" class="auth-modal">
            <div class="bg-white/95 backdrop-blur-md rounded-xl shadow-2xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto border border-white/50">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">Help Center</h2>
                        <button id="closeHelpModal" class="text-gray-500 hover:text-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>

                    <!-- Search Help -->
                    <div class="mb-6">
                        <div class="relative">
                            <input type="text" id="helpSearch" placeholder="Search for help articles..." class="w-full px-4 py-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 absolute left-3 top-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                            </svg>
                        </div>
                    </div>

                    <!-- FAQ Categories -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
                        <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4">
                            <div class="flex items-center mb-3">
                                <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                                    </svg>
                                </div>
                                <h3 class="font-semibold text-blue-800">Getting Started</h3>
                            </div>
                            <ul class="space-y-2 text-sm">
                                <li><a href="#" class="text-blue-600 hover:text-blue-800">How to report a lost item</a></li>
                                <li><a href="#" class="text-blue-600 hover:text-blue-800">Creating your first post</a></li>
                                <li><a href="#" class="text-blue-600 hover:text-blue-800">Setting up notifications</a></li>
                            </ul>
                        </div>

                        <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4">
                            <div class="flex items-center mb-3">
                                <div class="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                    </svg>
                                </div>
                                <h3 class="font-semibold text-green-800">Search & Matching</h3>
                            </div>
                            <ul class="space-y-2 text-sm">
                                <li><a href="#" class="text-green-600 hover:text-green-800">How AI matching works</a></li>
                                <li><a href="#" class="text-green-600 hover:text-green-800">Advanced search filters</a></li>
                                <li><a href="#" class="text-green-600 hover:text-green-800">Location-based search</a></li>
                            </ul>
                        </div>

                        <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4">
                            <div class="flex items-center mb-3">
                                <div class="w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                    </svg>
                                </div>
                                <h3 class="font-semibold text-purple-800">Safety & Privacy</h3>
                            </div>
                            <ul class="space-y-2 text-sm">
                                <li><a href="#" class="text-purple-600 hover:text-purple-800">Safe meetup guidelines</a></li>
                                <li><a href="#" class="text-purple-600 hover:text-purple-800">Privacy settings</a></li>
                                <li><a href="#" class="text-purple-600 hover:text-purple-800">Reporting inappropriate content</a></li>
                            </ul>
                        </div>
                    </div>

                    <!-- Popular Articles -->
                    <div class="mb-6">
                        <h3 class="font-semibold text-gray-800 mb-4">Popular Articles</h3>
                        <div class="space-y-3">
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition duration-300 cursor-pointer">
                                <div class="flex-1">
                                    <h4 class="font-medium text-gray-800">How to increase your chances of finding lost items</h4>
                                    <p class="text-sm text-gray-500">Learn the best practices for creating effective lost item posts</p>
                                </div>
                                <div class="text-xs text-gray-400">5 min read</div>
                            </div>
                            
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition duration-300 cursor-pointer">
                                <div class="flex-1">
                                    <h4 class="font-medium text-gray-800">Understanding AI match confidence scores</h4>
                                    <p class="text-sm text-gray-500">What do the percentage scores mean and how to interpret them</p>
                                </div>
                                <div class="text-xs text-gray-400">3 min read</div>
                            </div>
                            
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition duration-300 cursor-pointer">
                                <div class="flex-1">
                                    <h4 class="font-medium text-gray-800">Messaging etiquette and safety tips</h4>
                                    <p class="text-sm text-gray-500">Best practices for communicating with other users</p>
                                </div>
                                <div class="text-xs text-gray-400">4 min read</div>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Support -->
                    <div class="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4">
                        <h3 class="font-semibold text-gray-800 mb-2">Still need help?</h3>
                        <p class="text-sm text-gray-600 mb-4">Can't find what you're looking for? Our support team is here to help.</p>
                        <div class="flex space-x-3">
                            <button class="bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-indigo-700 transition duration-300">Contact Support</button>
                            <button class="border border-indigo-600 text-indigo-600 px-4 py-2 rounded-lg text-sm hover:bg-indigo-50 transition duration-300">Community Forum</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AI Chat Support Modal -->
        <div id="chatSupportModal" class="auth-modal">
            <div class="bg-white/95 backdrop-blur-md rounded-xl shadow-2xl w-full max-w-md mx-4 h-[600px] border border-white/50 flex flex-col">
                <div class="p-4 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                                </svg>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-800">AI Assistant</h3>
                                <p class="text-xs text-green-600 flex items-center">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-1"></div>
                                    Online
                                </p>
                            </div>
                        </div>
                        <button id="closeChatSupport" class="text-gray-500 hover:text-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div id="chatSupportMessages" class="flex-1 overflow-y-auto p-4 space-y-3">
                    <div class="message message-received">
                        <p>Hi! I'm your AI assistant. How can I help you today?</p>
                    </div>
                    <div class="flex flex-wrap gap-2 mt-3">
                        <button class="quick-reply bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-sm transition duration-300">Report a bug</button>
                        <button class="quick-reply bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-sm transition duration-300">How to use app</button>
                        <button class="quick-reply bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-sm transition duration-300">Account issues</button>
                    </div>
                </div>
                
                <div class="p-4 border-t border-gray-200">
                    <div class="flex items-center space-x-2">
                        <input type="text" id="chatSupportInput" placeholder="Type your message..." class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm">
                        <button id="sendChatSupport" class="bg-indigo-600 text-white p-2 rounded-lg hover:bg-indigo-700 transition duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pet Posts Modal -->
        <div id="petPostsModal" class="auth-modal">
            <div class="bg-white/95 backdrop-blur-md rounded-xl shadow-2xl w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto border border-white/50">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                </svg>
                            </div>
                            <h2 class="text-2xl font-bold text-gray-800">Pet Community Posts</h2>
                        </div>
                        <button id="closePetPostsModal" class="text-gray-500 hover:text-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>

                    <!-- Pet Posts Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Lost Pet 1 -->
                        <div class="card-red rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                            <div class="card-image bg-black/10 relative flex items-center justify-center">
                                <div class="text-6xl">🐕</div>
                                <div class="absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Lost Pet</div>
                            </div>
                            <div class="card-content bg-gradient-to-br from-white/95 to-red-50/90 backdrop-blur-sm">
                                <div>
                                    <h3 class="font-semibold text-lg mb-1 text-red-800">Golden Retriever - Max</h3>
                                    <p class="text-red-600 text-sm mb-2 font-medium">Lost at Central Park on June 20th</p>
                                    <div class="flex items-center text-sm text-gray-500 mb-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                        Central Park, New York • 0.5 km away
                                    </div>
                                </div>
                                <div class="card-description">
                                    <p class="text-sm text-gray-600">Friendly 3-year-old Golden Retriever. Wearing a blue collar with name tag. Very social and loves treats.</p>
                                </div>
                                <div class="card-actions">
                                    <div class="flex space-x-2">
                                        <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="contactOwner('max-owner')">Contact Owner</button>
                                        <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="viewDetails('max-lost')">View Details</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Found Pet 1 -->
                        <div class="card-green rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                            <div class="card-image bg-black/10 relative flex items-center justify-center">
                                <div class="text-6xl">🐱</div>
                                <div class="absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Found Pet</div>
                            </div>
                            <div class="card-content bg-gradient-to-br from-white/95 to-green-50/90 backdrop-blur-sm">
                                <div>
                                    <h3 class="font-semibold text-lg mb-1 text-green-800">Orange Tabby Cat</h3>
                                    <p class="text-green-600 text-sm mb-2 font-medium">Found at Main Street on June 19th</p>
                                    <div class="flex items-center text-sm text-gray-500 mb-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                        Main Street • 1.1 km away
                                    </div>
                                </div>
                                <div class="card-description">
                                    <p class="text-sm text-gray-600">Young orange tabby cat, very friendly. No collar but appears well-cared for. Currently safe at local vet.</p>
                                </div>
                                <div class="card-actions">
                                    <div class="flex space-x-2">
                                        <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="claimItem('cat-found')">Claim It</button>
                                        <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="openChat('cat-finder')">Message</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Lost Pet 2 -->
                        <div class="card-blue rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                            <div class="card-image bg-black/10 relative flex items-center justify-center">
                                <div class="text-6xl">🐦</div>
                                <div class="absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Lost Pet</div>
                            </div>
                            <div class="card-content bg-gradient-to-br from-white/95 to-blue-50/90 backdrop-blur-sm">
                                <div>
                                    <h3 class="font-semibold text-lg mb-1 text-blue-800">Blue Budgie - Charlie</h3>
                                    <p class="text-blue-600 text-sm mb-2 font-medium">Lost at Oak Avenue on June 18th</p>
                                    <div class="flex items-center text-sm text-gray-500 mb-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                        Oak Avenue • 2.3 km away
                                    </div>
                                </div>
                                <div class="card-description">
                                    <p class="text-sm text-gray-600">Small blue budgerigar. Escaped from cage during cleaning. Responds to name "Charlie" and loves millet.</p>
                                </div>
                                <div class="card-actions">
                                    <div class="flex space-x-2">
                                        <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="contactOwner('charlie-owner')">Contact Owner</button>
                                        <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="viewDetails('charlie-lost')">View Details</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Found Pet 2 -->
                        <div class="card-purple rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                            <div class="card-image bg-black/10 relative flex items-center justify-center">
                                <div class="text-6xl">🐰</div>
                                <div class="absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Found Pet</div>
                            </div>
                            <div class="card-content bg-gradient-to-br from-white/95 to-purple-50/90 backdrop-blur-sm">
                                <div>
                                    <h3 class="font-semibold text-lg mb-1 text-purple-800">White Rabbit</h3>
                                    <p class="text-purple-600 text-sm mb-2 font-medium">Found at Elm Park on June 17th</p>
                                    <div class="flex items-center text-sm text-gray-500 mb-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                        Elm Park • 0.9 km away
                                    </div>
                                </div>
                                <div class="card-description">
                                    <p class="text-sm text-gray-600">Small white domestic rabbit. Very tame and friendly. Currently being cared for by local animal shelter.</p>
                                </div>
                                <div class="card-actions">
                                    <div class="flex space-x-2">
                                        <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="claimItem('rabbit-found')">Claim It</button>
                                        <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="openChat('rabbit-finder')">Message</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Lost Pet 3 -->
                        <div class="card-orange rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                            <div class="card-image bg-black/10 relative flex items-center justify-center">
                                <div class="text-6xl">🐕</div>
                                <div class="absolute top-2 left-2 bg-red-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Lost Pet</div>
                            </div>
                            <div class="card-content bg-gradient-to-br from-white/95 to-orange-50/90 backdrop-blur-sm">
                                <div>
                                    <h3 class="font-semibold text-lg mb-1 text-orange-800">Beagle - Luna</h3>
                                    <p class="text-orange-600 text-sm mb-2 font-medium">Lost at Riverside on June 16th</p>
                                    <div class="flex items-center text-sm text-gray-500 mb-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                        Riverside Park • 1.7 km away
                                    </div>
                                </div>
                                <div class="card-description">
                                    <p class="text-sm text-gray-600">2-year-old female Beagle. Brown and white markings. Wearing pink collar with bell. Very shy around strangers.</p>
                                </div>
                                <div class="card-actions">
                                    <div class="flex space-x-2">
                                        <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="contactOwner('luna-owner')">Contact Owner</button>
                                        <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="viewDetails('luna-lost')">View Details</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Found Pet 3 -->
                        <div class="card-teal rounded-xl shadow-xl overflow-hidden item-card border border-white/50">
                            <div class="card-image bg-black/10 relative flex items-center justify-center">
                                <div class="text-6xl">🐹</div>
                                <div class="absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded-lg text-xs font-medium">Found Pet</div>
                            </div>
                            <div class="card-content bg-gradient-to-br from-white/95 to-teal-50/90 backdrop-blur-sm">
                                <div>
                                    <h3 class="font-semibold text-lg mb-1 text-teal-800">Hamster</h3>
                                    <p class="text-teal-600 text-sm mb-2 font-medium">Found at School Yard on June 15th</p>
                                    <div class="flex items-center text-sm text-gray-500 mb-3">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                        Lincoln Elementary • 3.2 km away
                                    </div>
                                </div>
                                <div class="card-description">
                                    <p class="text-sm text-gray-600">Small golden hamster found in school playground. Appears healthy and well-fed. Temporarily housed with teacher.</p>
                                </div>
                                <div class="card-actions">
                                    <div class="flex space-x-2">
                                        <button class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300 text-sm" onclick="claimItem('hamster-found')">Claim It</button>
                                        <button class="px-3 py-2 border border-indigo-600 text-indigo-600 rounded-lg hover:bg-indigo-50 transition duration-300 text-sm" onclick="openChat('hamster-finder')">Message</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Item Details Modal -->
        <div id="itemDetailsModal" class="auth-modal">
            <div class="bg-white/95 backdrop-blur-md rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto border border-white/50">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800" id="detailsTitle">Item Details</h2>
                        <button id="closeDetailsModal" class="text-gray-500 hover:text-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    
                    <div id="detailsContent">
                        <!-- Content will be populated dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Claim Verification Modal -->
        <div id="claimVerificationModal" class="auth-modal">
            <div class="bg-white/95 backdrop-blur-md rounded-xl shadow-2xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto border border-white/50">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold text-gray-800">Verify Ownership</h2>
                        <button id="closeClaimModal" class="text-gray-500 hover:text-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    
                    <div class="mb-4">
                        <p class="text-sm text-gray-600 mb-4">To claim this item, please provide details that prove ownership:</p>
                        
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-medium mb-2">Describe the item in detail</label>
                            <textarea id="itemDescription" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Include specific details like color, brand, unique features..."></textarea>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-gray-700 text-sm font-medium mb-2">Where did you lose it?</label>
                            <input type="text" id="lossLocation" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Specific location where you lost the item">
                        </div>
                        
                        <div class="mb-6">
                            <label class="block text-gray-700 text-sm font-medium mb-2">When did you lose it?</label>
                            <input type="date" id="lossDate" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        </div>
                        
                        <button id="submitClaim" class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition duration-300">
                            Submit Claim
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Login Modal -->
        <div id="authModal" class="auth-modal">
            <div class="bg-white/95 backdrop-blur-md rounded-xl shadow-2xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto border border-white/50">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-gray-800">Login to FindIt</h2>
                    <button id="closeAuthModal" class="text-gray-500 hover:text-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>

                <!-- Step 1: Initial Login -->
                <div id="loginStep1" class="login-step">
                    <!-- Social Login Options -->
                    <div class="mb-6">
                        <div class="grid grid-cols-2 gap-3">
                            <button id="googleLoginBtn" class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                <svg class="w-5 h-5" viewBox="0 0 24 24">
                                    <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                    <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                    <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                    <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                                </svg>
                                <span class="ml-2">Google</span>
                            </button>
                            <button id="appleLoginBtn" class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M13.2 2.8c.7-.9 1.2-2.2 1.1-3.5-1.1 0-2.4.7-3.2 1.6-.7.8-1.3 2.1-1.1 3.3 1.2.1 2.5-.6 3.2-1.4zm4.5 5.8c-.1-2.5-2-3.7-2.1-3.8-1.1-.8-2.8-1-3.4-1-.1 0-.2 0-.3 0-1.2.1-2.4.7-3 .7s-1.5-.6-2.5-.6c-1.3 0-2.6.7-3.3 1.9-1.4 2.4-.4 6 1 7.9.7 1 1.5 2 2.6 2 1-.1 1.4-.6 2.6-.6s1.5.6 2.6.6c1.1 0 1.8-.9 2.5-1.9.8-1.1 1.1-2.2 1.1-2.3-.1 0-2-.8-2-3z"/>
                                </svg>
                                <span class="ml-2">Apple</span>
                            </button>
                        </div>
                    </div>

                    <div class="relative mb-6">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white text-gray-500">Or continue with email/phone</span>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="loginMethod" class="block text-gray-700 text-sm font-medium mb-2">Login Method</label>
                        <select id="loginMethod" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="email">Email Address</option>
                            <option value="phone">Phone Number</option>
                        </select>
                    </div>

                    <div id="emailLoginFields">
                        <div class="mb-4">
                            <label for="emailInput" class="block text-gray-700 text-sm font-medium mb-2">Email Address</label>
                            <input type="email" id="emailInput" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter your email">
                        </div>

                        <div class="mb-6">
                            <label for="passwordInput" class="block text-gray-700 text-sm font-medium mb-2">Password</label>
                            <input type="password" id="passwordInput" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter your password">
                        </div>
                    </div>

                    <div id="phoneLoginFields" class="hidden">
                        <div class="mb-4">
                            <label for="phoneInput" class="block text-gray-700 text-sm font-medium mb-2">Phone Number</label>
                            <input type="tel" id="phoneInput" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter your phone number">
                        </div>

                        <div class="mb-6">
                            <label for="otpInput" class="block text-gray-700 text-sm font-medium mb-2">OTP Code</label>
                            <div class="flex space-x-2">
                                <input type="text" id="otpInput" class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter OTP">
                                <button id="sendOtpBtn" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition duration-300 text-sm">Send OTP</button>
                            </div>
                        </div>
                    </div>

                    <button id="proceedToVerificationBtn" class="w-full bg-indigo-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition duration-300">
                        Proceed to Verification
                    </button>

                    <div class="mt-4 text-center">
                        <p class="text-sm text-gray-600">
                            Don't have an account? 
                            <a href="#" id="signupLink" class="text-indigo-600 hover:text-indigo-500 font-medium">Sign up</a>
                        </p>
                    </div>
                </div>

                <!-- Step 2: Security Verification -->
                <div id="loginStep2" class="login-step hidden">
                    <div class="mb-6">
                        <div class="flex items-center mb-4">
                            <button id="backToStep1" class="text-indigo-600 hover:text-indigo-800 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                                </svg>
                                Back
                            </button>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">Mandatory Security Verification</h3>
                        <p class="text-sm text-gray-600">Complete both verification steps below to access your account. These security measures are required for all users.</p>
                        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-3">
                            <div class="flex items-center text-sm text-yellow-800">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" />
                                </svg>
                                <span class="font-medium">Both steps must be completed to proceed with login</span>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Indicator -->
                    <div class="mb-6">
                        <div class="flex items-center justify-between text-sm">
                            <span class="text-gray-500">Step 2 of 2</span>
                            <span class="text-gray-500">Mandatory Security Verification</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                            <div class="bg-indigo-600 h-2 rounded-full" style="width: 100%"></div>
                        </div>
                    </div>

                    <!-- NIC Verification Section -->
                    <div class="mb-8 p-4 border-2 border-red-200 rounded-lg bg-red-50">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-red-500 rounded-full flex items-center justify-center mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V4a2 2 0 114 0v2m-4 0a2 2 0 104 0m-4 0V4a2 2 0 014 0v2" />
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="font-medium text-red-800">Verify Identity with NIC <span class="text-red-600">*</span></h4>
                                    <p class="text-sm text-red-700">Upload your National Identity Card (Required)</p>
                                </div>
                            </div>
                            <div id="nicStatusIcon" class="w-6 h-6 text-red-500">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                        </div>

                        <div id="nicTypeSelection" class="mb-4">
                            <p class="text-sm text-gray-700 mb-3">Select your NIC type:</p>
                            <div class="grid grid-cols-2 gap-3">
                                <button id="singleSidedNicBtn" class="nic-type-btn p-3 border border-gray-300 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition duration-300 text-left">
                                    <div class="font-medium text-gray-800">Single-sided NIC</div>
                                    <div class="text-sm text-gray-500">One side only</div>
                                </button>
                                <button id="doubleSidedNicBtn" class="nic-type-btn p-3 border border-gray-300 rounded-lg hover:border-indigo-500 hover:bg-indigo-50 transition duration-300 text-left">
                                    <div class="font-medium text-gray-800">Double-sided NIC</div>
                                    <div class="text-sm text-gray-500">Front and back</div>
                                </button>
                            </div>
                        </div>

                        <!-- Single-sided NIC Upload -->
                        <div id="singleNicUpload" class="hidden">
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-medium mb-2">Upload NIC</label>
                                <div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-indigo-400 transition duration-300">
                                    <div id="singleNicPreview" class="hidden mb-3">
                                        <img id="singleNicImage" class="mx-auto max-h-32 rounded-lg" alt="NIC Preview">
                                    </div>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-12 w-12 text-gray-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                    </svg>
                                    <p class="text-sm text-gray-600 mb-2">Click to upload or drag and drop</p>
                                    <div class="flex justify-center space-x-2">
                                        <button id="browseSingleNic" class="bg-indigo-600 text-white px-3 py-1 rounded text-sm hover:bg-indigo-700 transition duration-300">Browse Files</button>
                                        <button id="cameraSingleNic" class="bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition duration-300">Take Photo</button>
                                    </div>
                                    <input type="file" id="singleNicInput" class="hidden" accept="image/*">
                                </div>
                            </div>
                        </div>

                        <!-- Double-sided NIC Upload -->
                        <div id="doubleNicUpload" class="hidden">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <!-- Front Side -->
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-2">Upload Front Side</label>
                                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-indigo-400 transition duration-300">
                                        <div id="frontNicPreview" class="hidden mb-2">
                                            <img id="frontNicImage" class="mx-auto max-h-24 rounded-lg" alt="Front NIC Preview">
                                        </div>
                                        <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-8 w-8 text-gray-400 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                        </svg>
                                        <p class="text-xs text-gray-600 mb-2">Front side</p>
                                        <div class="flex justify-center space-x-1">
                                            <button id="browseFrontNic" class="bg-indigo-600 text-white px-2 py-1 rounded text-xs hover:bg-indigo-700 transition duration-300">Browse</button>
                                            <button id="cameraFrontNic" class="bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition duration-300">Camera</button>
                                        </div>
                                        <input type="file" id="frontNicInput" class="hidden" accept="image/*">
                                    </div>
                                </div>

                                <!-- Back Side -->
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-2">Upload Back Side</label>
                                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-indigo-400 transition duration-300">
                                        <div id="backNicPreview" class="hidden mb-2">
                                            <img id="backNicImage" class="mx-auto max-h-24 rounded-lg" alt="Back NIC Preview">
                                        </div>
                                        <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-8 w-8 text-gray-400 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                        </svg>
                                        <p class="text-xs text-gray-600 mb-2">Back side</p>
                                        <div class="flex justify-center space-x-1">
                                            <button id="browseBackNic" class="bg-indigo-600 text-white px-2 py-1 rounded text-xs hover:bg-indigo-700 transition duration-300">Browse</button>
                                            <button id="cameraBackNic" class="bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition duration-300">Camera</button>
                                        </div>
                                        <input type="file" id="backNicInput" class="hidden" accept="image/*">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Video Recognition Section -->
                    <div class="mb-8 p-4 border-2 border-red-200 rounded-lg bg-red-50">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-red-500 rounded-full flex items-center justify-center mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                    </svg>
                                </div>
                                <div>
                                    <h4 class="font-medium text-red-800">Video Recognition <span class="text-red-600">*</span></h4>
                                    <p class="text-sm text-red-700">Record a 5-10 second video for facial verification (Required)</p>
                                </div>
                            </div>
                            <div id="videoStatusIcon" class="w-6 h-6 text-red-500">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                        </div>

                        <div class="text-center">
                            <div id="videoPreviewContainer" class="mb-4">
                                <div id="videoPlaceholder" class="w-full max-w-sm mx-auto h-48 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300">
                                    <div class="text-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-16 w-16 text-gray-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                        </svg>
                                        <p class="text-sm text-gray-600">Video preview will appear here</p>
                                    </div>
                                </div>
                                <video id="videoPreview" class="hidden w-full max-w-sm mx-auto h-48 rounded-lg" controls></video>
                                <video id="liveVideoPreview" class="hidden w-full max-w-sm mx-auto h-48 rounded-lg" autoplay muted></video>
                            </div>

                            <div id="videoControls" class="flex justify-center space-x-3">
                                <button id="startRecordingBtn" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition duration-300 flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                    </svg>
                                    Start Recording
                                </button>
                                <button id="stopRecordingBtn" class="hidden bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition duration-300 flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 10h6v4H9z" />
                                    </svg>
                                    Stop Recording
                                </button>
                                <button id="uploadVideoBtn" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition duration-300 flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                                    </svg>
                                    Upload Video
                                </button>
                            </div>
                            <input type="file" id="videoFileInput" class="hidden" accept="video/*">
                            
                            <div id="recordingTimer" class="hidden mt-2 text-lg font-mono text-red-600">
                                00:00
                            </div>
                            
                            <p class="text-xs text-gray-500 mt-2">
                                Please record a clear 5-10 second video of your face for verification
                            </p>
                        </div>
                    </div>

                    <!-- Verification Status -->
                    <div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
                        <h4 class="font-medium text-red-800 mb-3 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            Mandatory Verification Status
                        </h4>
                        <div class="space-y-3">
                            <div id="nicVerificationStatus" class="flex items-center justify-between p-2 bg-white rounded border">
                                <div class="flex items-center text-sm">
                                    <div class="w-4 h-4 rounded-full bg-red-400 mr-3"></div>
                                    <span class="text-gray-700 font-medium">NIC Verification: <span class="text-red-600">Required</span></span>
                                </div>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </div>
                            <div id="videoVerificationStatus" class="flex items-center justify-between p-2 bg-white rounded border">
                                <div class="flex items-center text-sm">
                                    <div class="w-4 h-4 rounded-full bg-red-400 mr-3"></div>
                                    <span class="text-gray-700 font-medium">Video Recognition: <span class="text-red-600">Required</span></span>
                                </div>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </div>
                        </div>
                        <div class="mt-3 text-xs text-red-600 bg-red-100 p-2 rounded">
                            <strong>Important:</strong> Both verifications must be completed successfully before you can access your account.
                        </div>
                    </div>

                    <button id="completeLoginBtn" class="w-full bg-gray-400 text-white py-3 px-4 rounded-lg font-medium cursor-not-allowed transition duration-300 flex items-center justify-center" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                        </svg>
                        Complete Mandatory Verification
                    </button>

                    <div class="mt-4 text-center">
                        <div class="bg-red-100 border border-red-300 rounded-lg p-3">
                            <p class="text-sm text-red-700 font-medium">
                                ⚠️ Login Disabled Until Verification Complete
                            </p>
                            <p class="text-xs text-red-600 mt-1">
                                You must complete both NIC verification and video recognition to access your account
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let isLoggedIn = false;
        let currentUser = null;
        let currentConversation = null;
        let loginStep = 1;
        let nicVerified = false;
        let videoVerified = false;
        let selectedNicType = null;
        let mediaRecorder = null;
        let recordedChunks = [];
        let recordingTimer = null;
        let recordingStartTime = null;
        let userAccounts = {}; // Store user accounts for session continuity
        let joinedPetNetwork = false;

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            showLoadingScreen();
            setTimeout(() => {
                hideLoadingScreen();
                initializeApp();
                setupEventListeners();
                checkOnlineStatus();
                showSmartMatchNotification();
            }, 2500);
        });

        function showLoadingScreen() {
            document.getElementById('loadingScreen').style.display = 'flex';
        }

        function hideLoadingScreen() {
            const loadingScreen = document.getElementById('loadingScreen');
            loadingScreen.style.opacity = '0';
            loadingScreen.style.transition = 'opacity 0.5s ease-out';
            setTimeout(() => {
                loadingScreen.style.display = 'none';
            }, 500);
        }

        function initializeApp() {
            // Show logged out state by default
            updateAuthState();
            
            // Initialize tabs
            showTab('allTabContent');
        }

        function setupEventListeners() {
            // Auth buttons
            document.getElementById('loginBtn').addEventListener('click', () => showModal('authModal'));
            document.getElementById('loginBtnAlt').addEventListener('click', () => showModal('authModal'));
            document.getElementById('closeAuthModal').addEventListener('click', () => {
                hideModal('authModal');
                resetLoginFlow();
            });
            document.getElementById('proceedToVerificationBtn').addEventListener('click', handleInitialLogin);
            document.getElementById('googleLoginBtn').addEventListener('click', () => handleSocialLogin('google'));
            document.getElementById('appleLoginBtn').addEventListener('click', () => handleSocialLogin('apple'));
            document.getElementById('logoutBtn').addEventListener('click', handleLogout);
            document.getElementById('backToStep1').addEventListener('click', () => showLoginStep(1));
            document.getElementById('completeLoginBtn').addEventListener('click', completeLogin);
            document.getElementById('signupLink').addEventListener('click', handleSignup);

            // Login method switching
            document.getElementById('loginMethod').addEventListener('change', toggleLoginMethod);
            document.getElementById('sendOtpBtn').addEventListener('click', sendOTP);

            // NIC verification
            document.getElementById('singleSidedNicBtn').addEventListener('click', () => selectNicType('single'));
            document.getElementById('doubleSidedNicBtn').addEventListener('click', () => selectNicType('double'));
            
            // Single NIC upload
            document.getElementById('browseSingleNic').addEventListener('click', () => document.getElementById('singleNicInput').click());
            document.getElementById('cameraSingleNic').addEventListener('click', () => openCamera('singleNic'));
            document.getElementById('singleNicInput').addEventListener('change', (e) => handleNicUpload(e, 'single'));

            // Double NIC upload
            document.getElementById('browseFrontNic').addEventListener('click', () => document.getElementById('frontNicInput').click());
            document.getElementById('cameraFrontNic').addEventListener('click', () => openCamera('frontNic'));
            document.getElementById('frontNicInput').addEventListener('change', (e) => handleNicUpload(e, 'front'));
            
            document.getElementById('browseBackNic').addEventListener('click', () => document.getElementById('backNicInput').click());
            document.getElementById('cameraBackNic').addEventListener('click', () => openCamera('backNic'));
            document.getElementById('backNicInput').addEventListener('change', (e) => handleNicUpload(e, 'back'));

            // Video recognition
            document.getElementById('startRecordingBtn').addEventListener('click', startVideoRecording);
            document.getElementById('stopRecordingBtn').addEventListener('click', stopVideoRecording);
            document.getElementById('uploadVideoBtn').addEventListener('click', () => document.getElementById('videoFileInput').click());
            document.getElementById('videoFileInput').addEventListener('change', handleVideoUpload);

            // Profile dropdown
            document.getElementById('profileMenuBtn').addEventListener('click', toggleProfileDropdown);
            document.getElementById('viewProfileBtn').addEventListener('click', () => alert('Profile view would open here'));
            document.getElementById('photoManagementBtn').addEventListener('click', () => showModal('photoManagementModal'));
            document.getElementById('feedbackBtn').addEventListener('click', () => showModal('feedbackModal'));
            document.getElementById('helpCenterBtn').addEventListener('click', () => showModal('helpCenterModal'));

            // Tab switching
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', (e) => switchTab(e.target.id));
            });

            // Search and filters
            document.getElementById('mainSearchInput').addEventListener('input', handleMainSearch);
            document.getElementById('mainSearchInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') applyFilters();
            });
            document.getElementById('advancedSearchBtn').addEventListener('click', toggleAdvancedFilters);
            document.getElementById('mapViewBtn').addEventListener('click', () => showModal('mapModal'));
            document.getElementById('closeMapModal').addEventListener('click', () => hideModal('mapModal'));
            document.getElementById('applyFilters').addEventListener('click', applyFilters);
            document.getElementById('clearFilters').addEventListener('click', clearFilters);

            // Notifications
            document.getElementById('notificationsBtn').addEventListener('click', toggleNotificationCenter);
            document.getElementById('markAllRead').addEventListener('click', markAllNotificationsRead);
            document.getElementById('messagesBtn').addEventListener('click', () => showModal('communicationModal'));
            document.getElementById('closeCommunicationModal').addEventListener('click', () => hideModal('communicationModal'));

            // Smart match notification
            document.getElementById('closeMatchNotification').addEventListener('click', hideSmartMatchNotification);
            document.getElementById('viewMatch').addEventListener('click', () => {
                hideSmartMatchNotification();
                alert('Would navigate to match details');
            });
            document.getElementById('dismissMatch').addEventListener('click', hideSmartMatchNotification);

            // Photo management
            document.getElementById('closePhotoModal').addEventListener('click', () => hideModal('photoManagementModal'));
            document.getElementById('browsePhotos').addEventListener('click', () => document.getElementById('photoFileInput').click());
            document.getElementById('takePhoto').addEventListener('click', () => alert('Camera would open here'));
            document.getElementById('photoFileInput').addEventListener('change', handlePhotoUpload);

            // Feedback & Support
            document.getElementById('closeFeedbackModal').addEventListener('click', () => hideModal('feedbackModal'));
            document.getElementById('closeHelpModal').addEventListener('click', () => hideModal('helpCenterModal'));
            document.getElementById('closeChatSupport').addEventListener('click', () => hideModal('chatSupportModal'));
            document.getElementById('chatSupportBtn').addEventListener('click', () => {
                hideModal('feedbackModal');
                showModal('chatSupportModal');
            });
            document.getElementById('emailSupportBtn').addEventListener('click', () => alert('Email support form would open here'));
            document.getElementById('submitFeedback').addEventListener('click', submitFeedback);
            document.getElementById('sendChatSupport').addEventListener('click', sendChatSupportMessage);
            document.getElementById('chatSupportInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendChatSupportMessage();
            });

            // Star rating
            document.querySelectorAll('.star-btn').forEach(star => {
                star.addEventListener('click', (e) => setRating(parseInt(e.target.dataset.rating)));
            });

            // Quick reply buttons
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('quick-reply')) {
                    const message = e.target.textContent;
                    document.getElementById('chatSupportInput').value = message;
                    sendChatSupportMessage();
                }
            });

            // Chat functionality
            document.getElementById('sendMessage').addEventListener('click', sendMessage);
            document.getElementById('messageInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage();
            });

            // Filter chips
            document.querySelectorAll('.filter-chip').forEach(chip => {
                chip.addEventListener('click', (e) => applyQuickFilter(e.target.dataset.filter));
            });

            // Pet Community
            document.getElementById('joinNetworkBtn').addEventListener('click', joinPetNetwork);
            document.getElementById('viewPetPostsBtn').addEventListener('click', () => showModal('petPostsModal'));
            document.getElementById('closePetPostsModal').addEventListener('click', () => hideModal('petPostsModal'));

            // Item Details and Claim modals
            document.getElementById('closeDetailsModal').addEventListener('click', () => hideModal('itemDetailsModal'));
            document.getElementById('closeClaimModal').addEventListener('click', () => hideModal('claimVerificationModal'));
            document.getElementById('submitClaim').addEventListener('click', submitClaim);

            // Close dropdowns when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('#profileMenuBtn')) {
                    document.getElementById('profileDropdown').classList.add('hidden');
                }
                if (!e.target.closest('#notificationsBtn') && !e.target.closest('#notificationCenter')) {
                    document.getElementById('notificationCenter').classList.add('hidden');
                }
            });
        }

        function resetLoginFlow() {
            loginStep = 1;
            nicVerified = false;
            videoVerified = false;
            selectedNicType = null;
            
            // Reset form fields
            document.getElementById('emailInput').value = '';
            document.getElementById('passwordInput').value = '';
            document.getElementById('phoneInput').value = '';
            document.getElementById('otpInput').value = '';
            
            // Reset verification status
            updateVerificationStatus();
            showLoginStep(1);
        }

        function showLoginStep(step) {
            loginStep = step;
            
            if (step === 1) {
                document.getElementById('loginStep1').classList.remove('hidden');
                document.getElementById('loginStep2').classList.add('hidden');
            } else {
                document.getElementById('loginStep1').classList.add('hidden');
                document.getElementById('loginStep2').classList.remove('hidden');
            }
        }

        function toggleLoginMethod() {
            const method = document.getElementById('loginMethod').value;
            const emailFields = document.getElementById('emailLoginFields');
            const phoneFields = document.getElementById('phoneLoginFields');
            
            if (method === 'email') {
                emailFields.classList.remove('hidden');
                phoneFields.classList.add('hidden');
            } else {
                emailFields.classList.add('hidden');
                phoneFields.classList.remove('hidden');
            }
        }

        function sendOTP() {
            const phone = document.getElementById('phoneInput').value;
            if (phone) {
                showSuccessMessage('OTP sent to your phone number!');
            } else {
                alert('Please enter your phone number first');
            }
        }

        function handleInitialLogin() {
            const method = document.getElementById('loginMethod').value;
            let isValid = false;
            
            if (method === 'email') {
                const email = document.getElementById('emailInput').value;
                const password = document.getElementById('passwordInput').value;
                isValid = email && password;
                if (!isValid) {
                    alert('Please enter both email and password');
                    return;
                }
            } else {
                const phone = document.getElementById('phoneInput').value;
                const otp = document.getElementById('otpInput').value;
                isValid = phone && otp;
                if (!isValid) {
                    alert('Please enter both phone number and OTP');
                    return;
                }
            }
            
            if (isValid) {
                showLoginStep(2);
            }
        }

        function handleSocialLogin(provider) {
            // For social login, go directly to verification step
            showLoginStep(2);
        }

        function selectNicType(type) {
            selectedNicType = type;
            
            // Update button styles
            document.querySelectorAll('.nic-type-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            if (type === 'single') {
                document.getElementById('singleSidedNicBtn').classList.add('selected');
                document.getElementById('singleNicUpload').classList.remove('hidden');
                document.getElementById('doubleNicUpload').classList.add('hidden');
            } else {
                document.getElementById('doubleSidedNicBtn').classList.add('selected');
                document.getElementById('singleNicUpload').classList.add('hidden');
                document.getElementById('doubleNicUpload').classList.remove('hidden');
            }
        }

        function handleNicUpload(event, side) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    if (side === 'single') {
                        document.getElementById('singleNicImage').src = e.target.result;
                        document.getElementById('singleNicPreview').classList.remove('hidden');
                        nicVerified = true;
                    } else if (side === 'front') {
                        document.getElementById('frontNicImage').src = e.target.result;
                        document.getElementById('frontNicPreview').classList.remove('hidden');
                        checkDoubleNicComplete();
                    } else if (side === 'back') {
                        document.getElementById('backNicImage').src = e.target.result;
                        document.getElementById('backNicPreview').classList.remove('hidden');
                        checkDoubleNicComplete();
                    }
                    
                    updateVerificationStatus();
                };
                reader.readAsDataURL(file);
            }
        }

        function checkDoubleNicComplete() {
            const frontUploaded = !document.getElementById('frontNicPreview').classList.contains('hidden');
            const backUploaded = !document.getElementById('backNicPreview').classList.contains('hidden');
            
            if (frontUploaded && backUploaded) {
                nicVerified = true;
                updateVerificationStatus();
            }
        }

        function openCamera(target) {
            // In a real app, this would open the camera
            alert('Camera functionality would open here. For demo purposes, please use the browse button to upload an image.');
        }

        function startVideoRecording() {
            navigator.mediaDevices.getUserMedia({ video: true, audio: true })
                .then(stream => {
                    const livePreview = document.getElementById('liveVideoPreview');
                    livePreview.srcObject = stream;
                    livePreview.classList.remove('hidden');
                    document.getElementById('videoPlaceholder').classList.add('hidden');
                    
                    recordedChunks = [];
                    mediaRecorder = new MediaRecorder(stream);
                    
                    mediaRecorder.ondataavailable = function(event) {
                        if (event.data.size > 0) {
                            recordedChunks.push(event.data);
                        }
                    };
                    
                    mediaRecorder.onstop = function() {
                        const blob = new Blob(recordedChunks, { type: 'video/webm' });
                        const videoUrl = URL.createObjectURL(blob);
                        
                        const videoPreview = document.getElementById('videoPreview');
                        videoPreview.src = videoUrl;
                        videoPreview.classList.remove('hidden');
                        livePreview.classList.add('hidden');
                        
                        // Stop all tracks
                        stream.getTracks().forEach(track => track.stop());
                        
                        videoVerified = true;
                        updateVerificationStatus();
                    };
                    
                    mediaRecorder.start();
                    recordingStartTime = Date.now();
                    
                    // Update UI
                    document.getElementById('startRecordingBtn').classList.add('hidden');
                    document.getElementById('stopRecordingBtn').classList.remove('hidden');
                    document.getElementById('recordingTimer').classList.remove('hidden');
                    
                    // Start timer
                    recordingTimer = setInterval(updateRecordingTimer, 100);
                    
                    // Auto-stop after 10 seconds
                    setTimeout(() => {
                        if (mediaRecorder && mediaRecorder.state === 'recording') {
                            stopVideoRecording();
                        }
                    }, 10000);
                })
                .catch(err => {
                    console.error('Error accessing camera:', err);
                    alert('Unable to access camera. Please check permissions or use the upload option.');
                });
        }

        function stopVideoRecording() {
            if (mediaRecorder && mediaRecorder.state === 'recording') {
                mediaRecorder.stop();
                clearInterval(recordingTimer);
                
                // Update UI
                document.getElementById('startRecordingBtn').classList.remove('hidden');
                document.getElementById('stopRecordingBtn').classList.add('hidden');
                document.getElementById('recordingTimer').classList.add('hidden');
            }
        }

        function updateRecordingTimer() {
            if (recordingStartTime) {
                const elapsed = Date.now() - recordingStartTime;
                const seconds = Math.floor(elapsed / 1000);
                const minutes = Math.floor(seconds / 60);
                const remainingSeconds = seconds % 60;
                
                const display = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
                document.getElementById('recordingTimer').textContent = display;
            }
        }

        function handleVideoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const videoUrl = URL.createObjectURL(file);
                const videoPreview = document.getElementById('videoPreview');
                videoPreview.src = videoUrl;
                videoPreview.classList.remove('hidden');
                document.getElementById('videoPlaceholder').classList.add('hidden');
                
                videoVerified = true;
                updateVerificationStatus();
            }
        }

        function updateVerificationStatus() {
            // Update NIC status
            const nicStatus = document.getElementById('nicVerificationStatus');
            const nicIcon = nicStatus.querySelector('.w-4');
            const nicText = nicStatus.querySelector('span');
            const nicStatusIcon = document.getElementById('nicStatusIcon');
            const nicSection = nicStatusIcon.closest('.mb-8');
            
            if (nicVerified) {
                nicIcon.classList.remove('bg-red-400');
                nicIcon.classList.add('bg-green-500');
                nicText.innerHTML = 'NIC Verification: <span class="text-green-600 font-semibold">Complete ✓</span>';
                
                // Update section styling
                nicSection.classList.remove('border-red-200', 'bg-red-50');
                nicSection.classList.add('border-green-200', 'bg-green-50');
                
                // Update status icon in section
                nicStatusIcon.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                `;
                
                // Update status row icon
                const nicRowIcon = nicStatus.querySelector('svg');
                nicRowIcon.innerHTML = `
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                `;
                nicRowIcon.classList.remove('text-red-500');
                nicRowIcon.classList.add('text-green-500');
            }
            
            // Update Video status
            const videoStatus = document.getElementById('videoVerificationStatus');
            const videoIcon = videoStatus.querySelector('.w-4');
            const videoText = videoStatus.querySelector('span');
            const videoStatusIcon = document.getElementById('videoStatusIcon');
            const videoSection = videoStatusIcon.closest('.mb-8');
            
            if (videoVerified) {
                videoIcon.classList.remove('bg-red-400');
                videoIcon.classList.add('bg-green-500');
                videoText.innerHTML = 'Video Recognition: <span class="text-green-600 font-semibold">Complete ✓</span>';
                
                // Update section styling
                videoSection.classList.remove('border-red-200', 'bg-red-50');
                videoSection.classList.add('border-green-200', 'bg-green-50');
                
                // Update status icon in section
                videoStatusIcon.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                `;
                
                // Update status row icon
                const videoRowIcon = videoStatus.querySelector('svg');
                videoRowIcon.innerHTML = `
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                `;
                videoRowIcon.classList.remove('text-red-500');
                videoRowIcon.classList.add('text-green-500');
            }
            
            // Update complete login button
            const completeBtn = document.getElementById('completeLoginBtn');
            if (nicVerified && videoVerified) {
                completeBtn.disabled = false;
                completeBtn.classList.remove('bg-gray-400', 'cursor-not-allowed');
                completeBtn.classList.add('bg-green-600', 'hover:bg-green-700');
                completeBtn.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    Complete Login - Verification Successful
                `;
                
                // Update the warning message
                const warningDiv = completeBtn.nextElementSibling.querySelector('.bg-red-100');
                warningDiv.classList.remove('bg-red-100', 'border-red-300');
                warningDiv.classList.add('bg-green-100', 'border-green-300');
                warningDiv.innerHTML = `
                    <p class="text-sm text-green-700 font-medium">
                        ✅ All Verifications Complete
                    </p>
                    <p class="text-xs text-green-600 mt-1">
                        You can now complete your login to access your account
                    </p>
                `;
            }
        }

        function completeLogin() {
            // Strict validation - both verifications must be complete
            if (!nicVerified || !videoVerified) {
                let missingSteps = [];
                if (!nicVerified) missingSteps.push('NIC Verification');
                if (!videoVerified) missingSteps.push('Video Recognition');
                
                alert(`❌ Login Failed!\n\nMissing required verification steps:\n• ${missingSteps.join('\n• ')}\n\nYou must complete ALL verification steps to access your account.`);
                return;
            }
            
            // Additional validation for NIC type selection
            if (!selectedNicType) {
                alert('❌ Please select your NIC type (Single-sided or Double-sided) and upload the required images.');
                return;
            }
            
            // Validate NIC uploads based on type
            if (selectedNicType === 'single') {
                const singleNicUploaded = !document.getElementById('singleNicPreview').classList.contains('hidden');
                if (!singleNicUploaded) {
                    alert('❌ Please upload your NIC image to complete verification.');
                    return;
                }
            } else if (selectedNicType === 'double') {
                const frontUploaded = !document.getElementById('frontNicPreview').classList.contains('hidden');
                const backUploaded = !document.getElementById('backNicPreview').classList.contains('hidden');
                if (!frontUploaded || !backUploaded) {
                    alert('❌ Please upload both front and back sides of your NIC to complete verification.');
                    return;
                }
            }
            
            // Validate video upload
            const videoUploaded = !document.getElementById('videoPreview').classList.contains('hidden');
            if (!videoUploaded) {
                alert('❌ Please record or upload a verification video to complete the process.');
                return;
            }
            
            // All validations passed - proceed with login
            const email = document.getElementById('emailInput').value || 'user@example.com';
            
            // Check if user exists or create new account
            if (!userAccounts[email]) {
                userAccounts[email] = {
                    name: 'John Doe',
                    email: email,
                    initials: 'JD',
                    verified: true
                };
            }
            
            isLoggedIn = true;
            currentUser = userAccounts[email];
            
            updateAuthState();
            hideModal('authModal');
            resetLoginFlow();
            
            // Show comprehensive success message
            showSuccessMessage('✅ Login Successful! Your identity has been verified and your account is now accessible.');
            
            // Show additional security confirmation
            setTimeout(() => {
                showSuccessMessage('🔒 Security verification complete. All uploaded documents are encrypted and secure.');
            }, 2000);
        }

        function handleSignup() {
            // For demo purposes, signup uses the same flow as login
            showSuccessMessage('Signup process initiated. Please complete the verification steps.');
        }

        function contactOwner(ownerId) {
            if (!isLoggedIn) {
                showModal('authModal');
                return;
            }
            
            currentConversation = ownerId;
            showModal('communicationModal');
            showSuccessMessage('Opening chat with item owner...');
        }

        function viewDetails(itemId) {
            const detailsData = getItemDetailsData();
            const data = detailsData[itemId];
            if (data) {
                document.getElementById('detailsTitle').textContent = data.title;
                document.getElementById('detailsContent').innerHTML = data.content;
                showModal('itemDetailsModal');
            }
        }

        function showMapItemDetails(itemId) {
            // Close map modal first
            hideModal('mapModal');
            
            // Show item details
            const detailsData = getItemDetailsData();
            const data = detailsData[itemId];
            if (data) {
                document.getElementById('detailsTitle').textContent = data.title;
                document.getElementById('detailsContent').innerHTML = data.content;
                showModal('itemDetailsModal');
                
                // Show success message
                showSuccessMessage('Showing details for map item!');
            }
        }

        function getItemDetailsData() {
            return {
                'backpack-lost': {
                    title: 'Blue Backpack - Lost Item Details',
                    content: `
                        <div class="space-y-4">
                            <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                                <h3 class="font-semibold text-red-800 mb-2">Item Information</h3>
                                <p><strong>Item:</strong> Navy Blue Jansport Backpack</p>
                                <p><strong>Lost Date:</strong> June 15th, 2024</p>
                                <p><strong>Location:</strong> Central Park, near the playground</p>
                                <p><strong>Time:</strong> Around 3:30 PM</p>
                            </div>
                            
                            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                                <h3 class="font-semibold text-gray-800 mb-2">Detailed Description</h3>
                                <p>Navy blue Jansport backpack with a small tear on the front pocket. Contains important documents including passport, driver's license, and work laptop. The backpack has a distinctive red keychain attached to the main zipper.</p>
                            </div>
                            
                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                <h3 class="font-semibold text-blue-800 mb-2">Contact Information</h3>
                                <p><strong>Posted by:</strong> Sarah Johnson</p>
                                <p><strong>Contact:</strong> Available through secure messaging</p>
                                <p><strong>Reward:</strong> $100 offered</p>
                            </div>
                            
                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <h3 class="font-semibold text-yellow-800 mb-2">Map Location</h3>
                                <p><strong>Exact Location:</strong> Central Park - North Playground Area</p>
                                <p><strong>Coordinates:</strong> 40.7829° N, 73.9654° W</p>
                                <p><strong>Distance from you:</strong> 0.3 km away</p>
                            </div>
                            
                            <div class="flex space-x-3 pt-4">
                                <button class="flex-1 bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-300" onclick="contactOwner('backpack-finder')">Contact Owner</button>
                                <button class="flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300" onclick="showDirections('backpack-lost')">Get Directions</button>
                            </div>
                        </div>
                    `
                },
                'iphone-lost': {
                    title: 'iPhone 13 Pro - Lost Item Details',
                    content: `
                        <div class="space-y-4">
                            <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                                <h3 class="font-semibold text-red-800 mb-2">Item Information</h3>
                                <p><strong>Item:</strong> iPhone 13 Pro - Sierra Blue</p>
                                <p><strong>Lost Date:</strong> June 18th, 2024</p>
                                <p><strong>Location:</strong> Starbucks on 5th Avenue</p>
                                <p><strong>Time:</strong> Around 11:00 AM</p>
                            </div>
                            
                            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                                <h3 class="font-semibold text-gray-800 mb-2">Detailed Description</h3>
                                <p>Sierra Blue iPhone 13 Pro with a clear MagSafe case. Lock screen wallpaper shows a golden retriever. Phone has a small scratch on the bottom right corner of the screen.</p>
                            </div>
                            
                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                <h3 class="font-semibold text-blue-800 mb-2">Contact Information</h3>
                                <p><strong>Posted by:</strong> Mike Chen</p>
                                <p><strong>Contact:</strong> Available through secure messaging</p>
                                <p><strong>Reward:</strong> $200 offered</p>
                            </div>
                            
                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <h3 class="font-semibold text-yellow-800 mb-2">Map Location</h3>
                                <p><strong>Exact Location:</strong> Starbucks - 5th Avenue & 42nd Street</p>
                                <p><strong>Coordinates:</strong> 40.7505° N, 73.9934° W</p>
                                <p><strong>Distance from you:</strong> 2.1 km away</p>
                            </div>
                            
                            <div class="flex space-x-3 pt-4">
                                <button class="flex-1 bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-300" onclick="contactOwner('iphone-owner')">Contact Owner</button>
                                <button class="flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300" onclick="showDirections('iphone-lost')">Get Directions</button>
                            </div>
                        </div>
                    `
                },
                'wallet-lost': {
                    title: 'Brown Wallet - Lost Item Details',
                    content: `
                        <div class="space-y-4">
                            <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                                <h3 class="font-semibold text-red-800 mb-2">Item Information</h3>
                                <p><strong>Item:</strong> Brown Leather Wallet</p>
                                <p><strong>Lost Date:</strong> June 20th, 2024</p>
                                <p><strong>Location:</strong> Main Bus Terminal</p>
                                <p><strong>Time:</strong> Around 7:45 PM</p>
                            </div>
                            
                            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                                <h3 class="font-semibold text-gray-800 mb-2">Detailed Description</h3>
                                <p>Brown leather wallet with initials "JD" embossed on the front. Contains driver's license, credit cards, and about $80 in cash. Has a photo of family in the clear ID slot.</p>
                            </div>
                            
                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                <h3 class="font-semibold text-blue-800 mb-2">Contact Information</h3>
                                <p><strong>Posted by:</strong> John Davis</p>
                                <p><strong>Contact:</strong> Available through secure messaging</p>
                                <p><strong>Reward:</strong> $50 offered</p>
                            </div>
                            
                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <h3 class="font-semibold text-yellow-800 mb-2">Map Location</h3>
                                <p><strong>Exact Location:</strong> Main Bus Terminal - Platform 7</p>
                                <p><strong>Coordinates:</strong> 40.7589° N, 73.9851° W</p>
                                <p><strong>Distance from you:</strong> 3.5 km away</p>
                            </div>
                            
                            <div class="flex space-x-3 pt-4">
                                <button class="flex-1 bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-300" onclick="contactOwner('wallet-owner')">Contact Owner</button>
                                <button class="flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300" onclick="showDirections('wallet-lost')">Get Directions</button>
                            </div>
                        </div>
                    `
                },
                'keys-found': {
                    title: 'Keys - Found Item Details',
                    content: `
                        <div class="space-y-4">
                            <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                <h3 class="font-semibold text-green-800 mb-2">Item Information</h3>
                                <p><strong>Item:</strong> Set of Keys with Blue Carabiner</p>
                                <p><strong>Found Date:</strong> June 19th, 2024</p>
                                <p><strong>Location:</strong> Riverside Park</p>
                                <p><strong>Time:</strong> Around 2:15 PM</p>
                            </div>
                            
                            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                                <h3 class="font-semibold text-gray-800 mb-2">Detailed Description</h3>
                                <p>Set of 3 keys with a blue carabiner and a small teddy bear keychain. One key appears to be a house key, one car key, and one smaller key (possibly mailbox or locker).</p>
                            </div>
                            
                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                <h3 class="font-semibold text-blue-800 mb-2">Contact Information</h3>
                                <p><strong>Found by:</strong> Emma Wilson</p>
                                <p><strong>Contact:</strong> Available through secure messaging</p>
                                <p><strong>Status:</strong> Safe with finder</p>
                            </div>
                            
                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <h3 class="font-semibold text-yellow-800 mb-2">Map Location</h3>
                                <p><strong>Exact Location:</strong> Riverside Park - Near the Duck Pond</p>
                                <p><strong>Coordinates:</strong> 40.7812° N, 73.9665° W</p>
                                <p><strong>Distance from you:</strong> 0.8 km away</p>
                            </div>
                            
                            <div class="flex space-x-3 pt-4">
                                <button class="flex-1 bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-300" onclick="claimItem('keys-found')">Claim It</button>
                                <button class="flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300" onclick="showDirections('keys-found')">Get Directions</button>
                            </div>
                        </div>
                    `
                },
                'notebook-found': {
                    title: 'Red Notebook - Found Item Details',
                    content: `
                        <div class="space-y-4">
                            <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                <h3 class="font-semibold text-green-800 mb-2">Item Information</h3>
                                <p><strong>Item:</strong> Red Spiral Notebook</p>
                                <p><strong>Found Date:</strong> June 17th, 2024</p>
                                <p><strong>Location:</strong> Public Library - Main Street</p>
                                <p><strong>Time:</strong> Around 4:45 PM</p>
                            </div>
                            
                            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                                <h3 class="font-semibold text-gray-800 mb-2">Detailed Description</h3>
                                <p>Red spiral notebook with physics notes inside. Name "Sarah" written on the first page. Contains detailed study notes and diagrams for what appears to be college-level physics coursework.</p>
                            </div>
                            
                            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                <h3 class="font-semibold text-blue-800 mb-2">Contact Information</h3>
                                <p><strong>Found by:</strong> Library Staff</p>
                                <p><strong>Contact:</strong> Available through secure messaging</p>
                                <p><strong>Status:</strong> Held at library front desk</p>
                            </div>
                            
                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <h3 class="font-semibold text-yellow-800 mb-2">Map Location</h3>
                                <p><strong>Exact Location:</strong> Public Library - Study Area, 2nd Floor</p>
                                <p><strong>Coordinates:</strong> 40.7614° N, 73.9776° W</p>
                                <p><strong>Distance from you:</strong> 1.2 km away</p>
                            </div>
                            
                            <div class="flex space-x-3 pt-4">
                                <button class="flex-1 bg-indigo-600 text-white py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-300" onclick="claimItem('notebook-found')">Claim It</button>
                                <button class="flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition duration-300" onclick="showDirections('notebook-found')">Get Directions</button>
                            </div>
                        </div>
                    `
                }
            };
        }

        function claimItem(itemId) {
            if (!isLoggedIn) {
                showModal('authModal');
                return;
            }
            
            showModal('claimVerificationModal');
        }

        function submitClaim() {
            const description = document.getElementById('itemDescription').value;
            const location = document.getElementById('lossLocation').value;
            const date = document.getElementById('lossDate').value;
            
            if (!description || !location || !date) {
                alert('Please fill in all fields to verify your claim.');
                return;
            }
            
            hideModal('claimVerificationModal');
            showSuccessMessage('Claim submitted successfully! The finder will review your details and contact you if there\'s a match.');
            
            // Clear form
            document.getElementById('itemDescription').value = '';
            document.getElementById('lossLocation').value = '';
            document.getElementById('lossDate').value = '';
        }

        function joinPetNetwork() {
            if (!isLoggedIn) {
                showModal('authModal');
                return;
            }
            
            if (joinedPetNetwork) {
                showSuccessMessage('You are already a member of the Pet Community Network!');
                return;
            }
            
            joinedPetNetwork = true;
            
            // Update button text
            const joinBtn = document.getElementById('joinNetworkBtn');
            joinBtn.innerHTML = `
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                Joined Network
            `;
            joinBtn.classList.remove('bg-purple-600', 'hover:bg-purple-700');
            joinBtn.classList.add('bg-green-600', 'hover:bg-green-700');
            
            showSuccessMessage('🎉 Welcome to the Pet Community Network! You can now access exclusive pet-related posts and alerts.');
        }

        function handleLogout() {
            isLoggedIn = false;
            currentUser = null;
            updateAuthState();
            showSuccessMessage('Successfully logged out!');
        }

        function updateAuthState() {
            const loggedOutState = document.getElementById('loggedOutState');
            const loggedInState = document.getElementById('loggedInState');
            
            // Update header auth state
            if (isLoggedIn) {
                loggedOutState.classList.add('hidden');
                loggedInState.classList.remove('hidden');
                
                // Update user info in header
                const userInitials = loggedInState.querySelector('.rounded-full');
                const userName = loggedInState.querySelector('span');
                if (currentUser) {
                    userInitials.textContent = currentUser.initials;
                    userName.textContent = currentUser.name;
                }
            } else {
                loggedOutState.classList.remove('hidden');
                loggedInState.classList.add('hidden');
            }
            
            // Update My Items tab content based on login state
            const myItemsLoggedOut = document.getElementById('myItemsLoggedOut');
            const myItemsLoggedIn = document.getElementById('myItemsLoggedIn');
            
            if (isLoggedIn) {
                myItemsLoggedOut.classList.add('hidden');
                myItemsLoggedIn.classList.remove('hidden');
            } else {
                myItemsLoggedOut.classList.remove('hidden');
                myItemsLoggedIn.classList.add('hidden');
            }
        }

        function switchTab(tabId) {
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('bg-indigo-600', 'text-white');
                btn.classList.add('text-gray-700', 'hover:bg-gray-100');
            });
            
            document.getElementById(tabId).classList.add('bg-indigo-600', 'text-white');
            document.getElementById(tabId).classList.remove('text-gray-700', 'hover:bg-gray-100');
            
            // Show corresponding content
            const contentMap = {
                'allTab': 'allTabContent',
                'lostTab': 'lostTabContent',
                'foundTab': 'foundTabContent',
                'myItemsTab': 'myItemsTabContent'
            };
            
            showTab(contentMap[tabId]);
        }

        function showTab(contentId) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(contentId).classList.add('active');
        }

        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function toggleProfileDropdown() {
            const dropdown = document.getElementById('profileDropdown');
            dropdown.classList.toggle('hidden');
        }

        function toggleAdvancedFilters() {
            const filters = document.getElementById('advancedFilters');
            filters.classList.toggle('hidden');
        }

        function toggleNotificationCenter() {
            const center = document.getElementById('notificationCenter');
            center.classList.toggle('hidden');
        }

        function applyFilters() {
            const category = document.getElementById('categoryFilter').value;
            const dateRange = document.getElementById('dateFilter').value;
            const location = document.getElementById('locationFilter').value;
            const searchTerm = document.getElementById('mainSearchInput').value.toLowerCase();
            
            // Get all item cards
            const allCards = document.querySelectorAll('.item-card');
            let visibleCount = 0;
            
            allCards.forEach(card => {
                let shouldShow = true;
                
                // Get card data
                const cardTitle = card.querySelector('h3').textContent.toLowerCase();
                const cardDescription = card.querySelector('.card-description p').textContent.toLowerCase();
                const cardLocation = card.querySelector('.flex.items-center.text-sm.text-gray-500').textContent.toLowerCase();
                const isLost = card.querySelector('.bg-red-600');
                const isFound = card.querySelector('.bg-green-600');
                
                // Apply search term filter
                if (searchTerm && !cardTitle.includes(searchTerm) && !cardDescription.includes(searchTerm)) {
                    shouldShow = false;
                }
                
                // Apply category filter
                if (category) {
                    const categoryMatches = {
                        'electronics': ['iphone', 'phone', 'laptop', 'tablet'],
                        'clothing': ['shirt', 'jacket', 'shoes', 'hat'],
                        'documents': ['passport', 'id', 'license', 'notebook'],
                        'keys': ['keys', 'key'],
                        'bags': ['backpack', 'bag', 'purse', 'wallet'],
                        'jewelry': ['ring', 'necklace', 'watch', 'bracelet']
                    };
                    
                    const keywords = categoryMatches[category] || [];
                    const hasMatch = keywords.some(keyword => 
                        cardTitle.includes(keyword) || cardDescription.includes(keyword)
                    );
                    
                    if (!hasMatch) shouldShow = false;
                }
                
                // Apply date filter
                if (dateRange) {
                    const today = new Date();
                    const cardDateText = card.querySelector('.text-red-600, .text-green-600, .text-blue-600, .text-purple-600, .text-orange-600').textContent;
                    
                    // Simple date matching (in a real app, you'd parse actual dates)
                    if (dateRange === 'today' && !cardDateText.includes('today')) {
                        shouldShow = false;
                    } else if (dateRange === 'week' && !cardDateText.includes('June')) {
                        shouldShow = false;
                    }
                }
                
                // Apply location filter
                if (location && !cardLocation.includes(location.toLowerCase())) {
                    shouldShow = false;
                }
                
                // Show/hide card
                if (shouldShow) {
                    card.style.display = 'flex';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Update results count
            document.getElementById('resultsCount').textContent = `Showing ${visibleCount} results`;
            showSuccessMessage(`Filters applied! Found ${visibleCount} matching items.`);
            
            // Hide advanced filters
            document.getElementById('advancedFilters').classList.add('hidden');
        }

        function clearFilters() {
            // Reset all filter inputs
            document.getElementById('categoryFilter').value = '';
            document.getElementById('dateFilter').value = '';
            document.getElementById('locationFilter').value = '';
            document.getElementById('mainSearchInput').value = '';
            
            // Show all cards
            const allCards = document.querySelectorAll('.item-card');
            allCards.forEach(card => {
                card.style.display = 'flex';
            });
            
            // Reset active filter chips
            document.querySelectorAll('.filter-chip').forEach(chip => {
                chip.classList.remove('bg-indigo-600', 'text-white');
                chip.classList.add('bg-white/30', 'text-gray-700');
            });
            
            document.getElementById('resultsCount').textContent = 'Showing 6 results';
            showSuccessMessage('All filters cleared!');
        }

        function handleMainSearch() {
            const searchTerm = document.getElementById('mainSearchInput').value.toLowerCase();
            
            if (searchTerm.length === 0) {
                // Show all cards if search is empty
                const allCards = document.querySelectorAll('.item-card');
                allCards.forEach(card => {
                    card.style.display = 'flex';
                });
                document.getElementById('resultsCount').textContent = 'Showing 6 results';
                return;
            }
            
            if (searchTerm.length < 2) return; // Wait for at least 2 characters
            
            const allCards = document.querySelectorAll('.item-card');
            let visibleCount = 0;
            
            allCards.forEach(card => {
                const cardTitle = card.querySelector('h3').textContent.toLowerCase();
                const cardDescription = card.querySelector('.card-description p').textContent.toLowerCase();
                const cardLocation = card.querySelector('.flex.items-center.text-sm.text-gray-500').textContent.toLowerCase();
                
                const shouldShow = cardTitle.includes(searchTerm) || 
                                 cardDescription.includes(searchTerm) || 
                                 cardLocation.includes(searchTerm);
                
                if (shouldShow) {
                    card.style.display = 'flex';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            document.getElementById('resultsCount').textContent = `Showing ${visibleCount} results`;
        }

        function applyQuickFilter(filter) {
            // Clear previous active states
            document.querySelectorAll('.filter-chip').forEach(chip => {
                chip.classList.remove('bg-indigo-600', 'text-white');
                chip.classList.add('bg-white/30', 'text-gray-700');
            });
            
            // Set active state for clicked chip
            event.target.classList.remove('bg-white/30', 'text-gray-700');
            event.target.classList.add('bg-indigo-600', 'text-white');
            
            const allCards = document.querySelectorAll('.item-card');
            let visibleCount = 0;
            
            allCards.forEach(card => {
                let shouldShow = false;
                const cardTitle = card.querySelector('h3').textContent.toLowerCase();
                const cardDescription = card.querySelector('.card-description p').textContent.toLowerCase();
                const cardLocation = card.querySelector('.flex.items-center.text-sm.text-gray-500').textContent.toLowerCase();
                
                switch(filter) {
                    case 'today':
                        const cardDateText = card.querySelector('.text-red-600, .text-green-600, .text-blue-600, .text-purple-600, .text-orange-600').textContent;
                        shouldShow = cardDateText.includes('June 20') || cardDateText.includes('June 19') || cardDateText.includes('June 18');
                        break;
                    case 'electronics':
                        shouldShow = cardTitle.includes('iphone') || cardTitle.includes('phone') || cardTitle.includes('laptop');
                        break;
                    case 'bags':
                        shouldShow = cardTitle.includes('backpack') || cardTitle.includes('bag') || cardTitle.includes('wallet');
                        break;
                    case 'keys':
                        shouldShow = cardTitle.includes('keys') || cardTitle.includes('key');
                        break;
                    case 'nearby':
                        shouldShow = cardLocation.includes('0.3 km') || cardLocation.includes('0.8 km') || cardLocation.includes('1.2 km');
                        break;
                    default:
                        shouldShow = true;
                }
                
                if (shouldShow) {
                    card.style.display = 'flex';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            document.getElementById('resultsCount').textContent = `Showing ${visibleCount} results`;
            showSuccessMessage(`Applied ${filter} filter! Found ${visibleCount} matching items.`);
        }

        function markAllNotificationsRead() {
            document.querySelectorAll('.notification-unread').forEach(notification => {
                notification.classList.remove('notification-unread');
            });
            showSuccessMessage('All notifications marked as read!');
        }

        function showSmartMatchNotification() {
            setTimeout(() => {
                document.getElementById('matchNotification').classList.remove('hidden');
            }, 3000);
        }

        function hideSmartMatchNotification() {
            document.getElementById('matchNotification').classList.add('hidden');
        }

        function openChat(conversationId) {
            if (!isLoggedIn) {
                showModal('authModal');
                return;
            }
            
            currentConversation = conversationId;
            showModal('communicationModal');
        }

        function selectConversation(conversationId) {
            currentConversation = conversationId;
            // Update chat header and messages based on conversation
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message) {
                const messagesContainer = document.getElementById('chatMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message message-sent';
                messageDiv.innerHTML = `<p>${message}</p>`;
                messagesContainer.appendChild(messageDiv);
                
                input.value = '';
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                // Simulate response
                setTimeout(() => {
                    const responseDiv = document.createElement('div');
                    responseDiv.className = 'message message-received';
                    responseDiv.innerHTML = `<p>Thanks for your message! I'll get back to you soon.</p>`;
                    messagesContainer.appendChild(responseDiv);
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                }, 1000);
            }
        }

        function handlePhotoUpload(event) {
            const files = event.target.files;
            if (files.length > 0) {
                showSuccessMessage(`${files.length} photo(s) uploaded successfully!`);
            }
        }

        function checkOnlineStatus() {
            const indicator = document.getElementById('offlineIndicator');
            
            function updateOnlineStatus() {
                if (navigator.onLine) {
                    indicator.classList.remove('show');
                } else {
                    indicator.classList.add('show');
                }
            }
            
            window.addEventListener('online', updateOnlineStatus);
            window.addEventListener('offline', updateOnlineStatus);
            updateOnlineStatus();
        }

        function showSuccessMessage(message) {
            // Create temporary success notification
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function setRating(rating) {
            const stars = document.querySelectorAll('.star-btn');
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.remove('text-gray-300');
                    star.classList.add('text-yellow-400');
                } else {
                    star.classList.remove('text-yellow-400');
                    star.classList.add('text-gray-300');
                }
            });
        }

        function submitFeedback() {
            const feedbackType = document.getElementById('feedbackType').value;
            const message = document.getElementById('feedbackMessage').value;
            const rating = document.querySelectorAll('.star-btn.text-yellow-400').length;
            
            if (!feedbackType || !message) {
                alert('Please fill in all required fields');
                return;
            }

            // Simulate AI sentiment analysis
            const sentiments = ['Positive', 'Neutral', 'Negative'];
            const randomSentiment = sentiments[Math.floor(Math.random() * sentiments.length)];
            
            // Show sentiment analysis
            const sentimentDiv = document.getElementById('sentimentAnalysis');
            const sentimentResult = document.getElementById('sentimentResult');
            sentimentResult.textContent = randomSentiment;
            
            // Update colors based on sentiment
            sentimentDiv.className = sentimentDiv.className.replace(/bg-\w+-50 border-\w+-200/, '');
            if (randomSentiment === 'Positive') {
                sentimentDiv.classList.add('bg-green-50', 'border-green-200');
            } else if (randomSentiment === 'Negative') {
                sentimentDiv.classList.add('bg-red-50', 'border-red-200');
            } else {
                sentimentDiv.classList.add('bg-yellow-50', 'border-yellow-200');
            }
            
            sentimentDiv.classList.remove('hidden');
            
            setTimeout(() => {
                showSuccessMessage('Feedback submitted successfully! Thank you for helping us improve.');
                hideModal('feedbackModal');
                
                // Reset form
                document.getElementById('feedbackType').value = '';
                document.getElementById('feedbackMessage').value = '';
                document.querySelectorAll('.star-btn').forEach(star => {
                    star.classList.remove('text-yellow-400');
                    star.classList.add('text-gray-300');
                });
                sentimentDiv.classList.add('hidden');
            }, 2000);
        }

        function sendChatSupportMessage() {
            const input = document.getElementById('chatSupportInput');
            const message = input.value.trim();
            
            if (message) {
                const messagesContainer = document.getElementById('chatSupportMessages');
                
                // Add user message
                const userMessageDiv = document.createElement('div');
                userMessageDiv.className = 'message message-sent';
                userMessageDiv.innerHTML = `<p>${message}</p>`;
                messagesContainer.appendChild(userMessageDiv);
                
                input.value = '';
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                // Simulate AI response
                setTimeout(() => {
                    const responses = [
                        "I understand your concern. Let me help you with that.",
                        "Thank you for reaching out. I'll guide you through the solution.",
                        "That's a great question! Here's what you need to know:",
                        "I can definitely help you with this issue. Let me explain:",
                        "Thanks for the feedback! I'll make sure to pass this along to our team."
                    ];
                    
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    
                    const aiMessageDiv = document.createElement('div');
                    aiMessageDiv.className = 'message message-received';
                    aiMessageDiv.innerHTML = `<p>${randomResponse}</p>`;
                    messagesContainer.appendChild(aiMessageDiv);
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                }, 1000);
            }
        }

        // Photo gallery interactions
        document.addEventListener('click', function(e) {
            if (e.target.closest('.photo-item')) {
                e.target.closest('.photo-item').classList.toggle('photo-selected');
            }
        });

        // My Items functions
        function editMyItem(itemId) {
            showSuccessMessage(`Opening editor for ${itemId}...`);
            // In a real app, this would open an edit modal
        }

        function viewClaims(itemId) {
            showSuccessMessage(`Viewing claims for ${itemId}...`);
            // In a real app, this would show a claims management interface
        }

        function showDirections(itemId) {
            const locationData = {
                'backpack-lost': 'Central Park - North Playground Area',
                'iphone-lost': 'Starbucks - 5th Avenue & 42nd Street',
                'wallet-lost': 'Main Bus Terminal - Platform 7',
                'keys-found': 'Riverside Park - Near the Duck Pond',
                'notebook-found': 'Public Library - Study Area, 2nd Floor'
            };
            
            const location = locationData[itemId] || 'Unknown location';
            showSuccessMessage(`🗺️ Opening directions to: ${location}`);
            
            // In a real app, this would open Google Maps or similar navigation app
            // For demo purposes, we'll just show a success message
            setTimeout(() => {
                showSuccessMessage('📍 Directions would open in your default maps app');
            }, 1500);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97e5b957219aa588',t:'MTc1Nzc0NjM2OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
